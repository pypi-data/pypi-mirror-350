segments:
  type: git
  style: powerline
  properties:
    branch_icon: >-
      [icons: git.branch_icon]
    github_icon: >-
      [icons: git.github_icon]
    branch_max_length: 17
    fetch_stash_count: true
    fetch_status: true
    fetch_upstream_icon: true
  powerline_symbol: >-
    [inc: shared.omp.powerline_symbol.divider]
  template: " [ .UpstreamIcon ][ .HEAD ]
    [if .BranchStatus][ .BranchStatus ] [end]
    [if .Working.Changed][icons: git.icon_working] [ .Working.String ][end]
    [if and (.Working.Changed) (.Staging.Changed)] [ui: separator.diamond_circle] [end]
    [if .Staging.Changed][icons: git.icon_staging] [ .Staging.String ][end]
    [if gt .StashCount 0][icons: git.icon_stash] [ .StashCount ][end] "
  foreground: >-
    [palette: roles.seg_repo_fg]
  background: >-
    [palette: roles.seg_repo_bg]
  foreground_templates:
    - >-
      [if and (eq .Ahead 0) (eq .Behind 0) (not .Working.Changed) (not .Staging.Changed)]
        [palette: roles.success]
      [end]
    - >-
      [if .Working.Changed or .Staging.Changed]
        [palette: roles.warning]
      [end]
    - >-
      [if gt .Ahead 0 or gt .Behind 0]
        [palette: roles.error]
      [end]
    - >-
      [if gt .Ahead 0]
        [palette: roles.critical]
      [end]
    - >-
      [if gt .Behind 0]
        [palette: roles.critical]
      [end]