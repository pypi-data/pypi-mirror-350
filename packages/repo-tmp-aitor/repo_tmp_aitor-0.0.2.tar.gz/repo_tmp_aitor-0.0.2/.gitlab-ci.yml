stages:
  - build
  - test
  - deploy
job-1:
  stage: build
  script:
  - echo "Job Windows112"
job-2:
  stage: test
  image: python
  before_script:
  - echo "1"
  - echo "2"
  - echo "3"
  - echo "4"
  script:
  - echo "5"
  - echo "6"
job-4:
  stage: test
  image: alpine
  script:
  - echo $RANDOM
  - echo $VAR1
  variables:
    NOMBRE: "Aitor"
job-5:
  stage: deploy
  image: python
  variables:
    TWINE_USERNAME: gitlab-ci-token
    TWINE_PASSWORD: $CI_JOB_TOKEN
  script:
  - pip install build twine
  - python -m build
  - python -m twine upload --repository-url ${CI_API_V4_URL}/projects/${CI_PROJECT_ID}/packages/pypi dist/*
job-6:
  stage: deploy
  image: python
  variables:
    TWINE_USERNAME: "__token__"
    TWINE_PASSWORD: $TWINE_PASSWORD
  script:
  - pip install build twine
  - python -m build
  - twine upload dist/*
    