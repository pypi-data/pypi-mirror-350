Metadata-Version: 2.1
Name: kserve
Version: 0.15.2
Summary: KServe Python SDK
Home-page: https://github.com/kserve/kserve/tree/master/python/kserve
License: Apache-2.0
Author: The KServe Authors
Author-email: dsun20@bloomberg.net
Requires-Python: >=3.9,<3.13
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Education
Classifier: Intended Audience :: Science/Research
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Topic :: Scientific/Engineering
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Topic :: Software Development
Classifier: Topic :: Software Development :: Libraries
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Provides-Extra: llm
Provides-Extra: logging
Provides-Extra: ray
Provides-Extra: storage
Requires-Dist: asgi-logger (>=0.1.0,<0.2.0) ; extra == "logging"
Requires-Dist: azure-identity (>=1.15.0,<2.0.0) ; extra == "storage"
Requires-Dist: azure-storage-blob (>=12.20.0,<13.0.0) ; extra == "storage"
Requires-Dist: azure-storage-file-share (>=12.16.0,<13.0.0) ; extra == "storage"
Requires-Dist: boto3 (>=1.29.0,<2.0.0) ; extra == "storage"
Requires-Dist: cloudevents (>=1.6.2,<2.0.0)
Requires-Dist: fastapi (>=0.115.3)
Requires-Dist: google-cloud-storage (>=2.14.0,<3.0.0) ; extra == "storage"
Requires-Dist: grpc-interceptor (>=0.15.4,<1.0.0)
Requires-Dist: grpcio (>=1.60.0,<2.0.0)
Requires-Dist: httpx (>=0.27.2,<0.28.0)
Requires-Dist: huggingface-hub[hf-transfer] (>=0.30.0,<0.31.0) ; extra == "storage"
Requires-Dist: kubernetes (>=23.3.0)
Requires-Dist: numpy (>=1.26.0,<3.0.0)
Requires-Dist: orjson (>=3.9.15,<4.0.0)
Requires-Dist: pandas (>=2.2.0,<3.0.0)
Requires-Dist: prometheus-client (>=0.20.0,<0.21.0)
Requires-Dist: protobuf (>=4.25.4,<5.0.0)
Requires-Dist: psutil (>=5.9.6,<6.0.0)
Requires-Dist: pydantic (>1.0,<3) ; python_version >= "3.9" and python_version < "3.12"
Requires-Dist: pydantic (>=2.5.0,<3.0.0) ; python_version == "3.12"
Requires-Dist: python-dateutil (>=2.8.0,<3.0.0)
Requires-Dist: pyyaml (>=6.0.0,<7.0.0)
Requires-Dist: ray[serve] (>=2.43.0) ; extra == "ray"
Requires-Dist: requests (>=2.32.2,<3.0.0) ; extra == "storage"
Requires-Dist: six (>=1.16.0,<2.0.0)
Requires-Dist: tabulate (>=0.9.0,<0.10.0)
Requires-Dist: timing-asgi (>=0.3.0,<0.4.0)
Requires-Dist: uvicorn[standard] (>=0.30.6,<0.31.0)
Requires-Dist: vllm (==0.8.5) ; extra == "llm"
Project-URL: Repository, https://github.com/kserve/kserve/tree/master/python/kserve
Description-Content-Type: text/markdown

# KServe Python SDK
Python SDK for KServe Server and Client.

## Installation

KServe Python SDK can be installed by `pip` or `poetry`.

### pip install

```sh
pip install kserve
```

To install Kserve with storage support
```sh
pip install kserve[storage]
```

### Poetry

Install via [Poetry](https://python-poetry.org/).

```sh
make dev_install
```
To install Kserve with storage support
```sh
poetry install -E storage
```
or 
```sh
poetry install --extras "storage"
```

## KServe Python Server
KServe's python server libraries implement a standardized library that is extended by model serving frameworks such as Scikit Learn, XGBoost and PyTorch. It encapsulates data plane API definitions and storage retrieval for models.

It provides many functionalities, including among others:

* Registering a model and starting the server
* Prediction Handler
* Pre/Post Processing Handler
* Liveness Handler
* Readiness Handlers

It supports the following storage providers:

* Google Cloud Storage with a prefix: "gs://"
    * By default, it uses `GOOGLE_APPLICATION_CREDENTIALS` environment variable for user authentication.
    * If `GOOGLE_APPLICATION_CREDENTIALS` is not provided, anonymous client will be used to download the artifacts.
* S3 Compatible Object Storage with a prefix "s3://"
    * By default, it uses `S3_ENDPOINT`, `AWS_ACCESS_KEY_ID`, and `AWS_SECRET_ACCESS_KEY` environment variables for user authentication.
* Azure Blob Storage with the format: "https://{$STORAGE_ACCOUNT_NAME}.blob.core.windows.net/{$CONTAINER}/{$PATH}"
    * By default, it uses anonymous client to download the artifacts.
    * For e.g. https://kfserving.blob.core.windows.net/triton/simple_string/
* Local filesystem either without any prefix or with a prefix "file://". For example:
    * Absolute path: `/absolute/path` or `file:///absolute/path`
    * Relative path: `relative/path` or `file://relative/path`
    * For local filesystem, we recommended to use relative path without any prefix.
* Persistent Volume Claim (PVC) with the format "pvc://{$pvcname}/[path]".
    * The `pvcname` is the name of the PVC that contains the model.
    * The `[path]` is the relative path to the model on the PVC.
    * For e.g. `pvc://mypvcname/model/path/on/pvc`
* Generic URI, over either `HTTP`, prefixed with `http://` or `HTTPS`, prefixed with `https://`. For example:
    * `https://<some_url>.com/model.joblib`
    * `http://<some_url>.com/model.joblib`

### Metrics

For latency metrics, send a request to `/metrics`. Prometheus latency histograms are emitted for each of the steps (pre/postprocessing, explain, predict).
Additionally, the latencies of each step are logged per request.

| Metric Name                       | Description                    | Type      |
|-----------------------------------|--------------------------------|-----------| 
| request_preprocess_seconds        | pre-processing request latency | Histogram | 
| request_explain_seconds | explain request latency        | Histogram | 
| request_predict_seconds | prediction request latency     | Histogram |
| request_postprocess_seconds    | pre-processing request latency | Histogram | 


## KServe Client

### Getting Started

KServe's python client interacts with KServe control plane APIs for executing operations on a remote KServe cluster, such as creating, patching and deleting of a InferenceService instance. See the [Sample for Python SDK Client](https://github.com/kserve/kserve/tree/master/docs/samples/client) to get started.

### Documentation for Client API

Please review [KServe Client API](https://github.com/kserve/website/blob/main/docs/sdk_docs/docs/KServeClient.md) docs.

## Documentation For Models

 - [KnativeAddressable](https://github.com/kserve/kserve/blob/master/python/kserve/docs/KnativeAddressable.md)
 - [KnativeCondition](https://github.com/kserve/kserve/blob/master/python/kserve/docs/KnativeCondition.md)
 - [KnativeURL](https://github.com/kserve/kserve/blob/master/python/kserve/docs/KnativeURL.md)
 - [KnativeVolatileTime](https://github.com/kserve/kserve/blob/master/python/kserve/docs/KnativeVolatileTime.md)
 - [NetUrlUserinfo](https://github.com/kserve/kserve/blob/master/python/kserve/docs/NetUrlUserinfo.md)
 - [V1alpha1InferenceGraph](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceGraph.md)
 - [V1alpha1InferenceGraphList](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceGraphList.md)
 - [V1alpha1InferenceGraphSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceGraphSpec.md)
 - [V1alpha1InferenceGraphStatus](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceGraphStatus.md)
 - [V1alpha1InferenceRouter](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceRouter.md)
 - [V1alpha1InferenceStep](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceStep.md)
 - [V1alpha1InferenceTarget](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1alpha1InferenceTarget.md)
 - [V1beta1AlibiExplainerSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1AlibiExplainerSpec.md)
 - [V1beta1Batcher](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1Batcher.md)
 - [V1beta1ComponentExtensionSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ComponentExtensionSpec.md)
 - [V1beta1ComponentStatusSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ComponentStatusSpec.md)
 - [V1beta1CustomExplainer](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1CustomExplainer.md)
 - [V1beta1CustomPredictor](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1CustomPredictor.md)
 - [V1beta1CustomTransformer](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1CustomTransformer.md)
 - [V1beta1ExplainerConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ExplainerConfig.md)
 - [V1beta1ExplainerSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ExplainerSpec.md)
 - [V1beta1ExplainersConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ExplainersConfig.md)
 - [V1beta1InferenceService](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1InferenceService.md)
 - [V1beta1InferenceServiceList](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1InferenceServiceList.md)
 - [V1beta1InferenceServiceSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1InferenceServiceSpec.md)
 - [V1beta1InferenceServiceStatus](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1InferenceServiceStatus.md)
 - [V1beta1InferenceServicesConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1InferenceServicesConfig.md)
 - [V1beta1IngressConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1IngressConfig.md)
 - [V1beta1LoggerSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1LoggerSpec.md)
 - [V1beta1ModelSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ModelSpec.md)
 - [V1beta1ONNXRuntimeSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1ONNXRuntimeSpec.md)
 - [V1beta1PodSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1PodSpec.md)
 - [V1beta1PredictorConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1PredictorConfig.md)
 - [V1beta1PredictorExtensionSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1PredictorExtensionSpec.md)
 - [V1beta1PredictorSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1PredictorSpec.md)
 - [V1beta1PredictorsConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1PredictorsConfig.md)
 - [V1beta1SKLearnSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1SKLearnSpec.md)
 - [V1beta1TFServingSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TFServingSpec.md)
 - [V1beta1TorchServeSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TorchServeSpec.md)
 - [V1beta1TrainedModel](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TrainedModel.md)
 - [V1beta1TrainedModelList](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TrainedModelList.md)
 - [V1beta1TrainedModelSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TrainedModelSpec.md)
 - [V1beta1TrainedModelStatus](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TrainedModelStatus.md)
 - [V1beta1TransformerConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TransformerConfig.md)
 - [V1beta1TransformerSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TransformerSpec.md)
 - [V1beta1TransformersConfig](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TransformersConfig.md)
 - [V1beta1TritonSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1TritonSpec.md)
 - [V1beta1XGBoostSpec](https://github.com/kserve/kserve/blob/master/python/kserve/docs/V1beta1XGBoostSpec.md)

