import{s as nt,z as Ce,B as Te,p as ft,j as Ae,e as g,c as v,a as k,d as u,f as p,i as T,r as jt,v as zt,w as Gt,x as Pt,k as M,o as F,J as nn,t as Z,b as W,g as c,h as Y,E as Dt,F as Vt,u as Ie,I as dt,G as Ze,C as it,A as ln,m as sn,q as Rt,n as mt,D as rn,l as Ht}from"../chunks/Bpbbr8c4.js";import{S as lt,i as st,f as Ne,b as O,d as x,m as j,t as S,a as N,e as z,g as xe,c as je}from"../chunks/DqnutP3R.js";import{b as on,c as an,f as Re,W as fn,m as Qe}from"../chunks/DvSPFLe4.js";import{l as un,a as ct,f as cn,g as at,t as dn,h as mn,i as hn,c as pn}from"../chunks/Co8Cyqpr.js";import{e as Ct,u as _n,o as gn}from"../chunks/DXFNvcTQ.js";import{t as ce}from"../chunks/CwHEXZG1.js";import{f as vn}from"../chunks/CyTOOynw.js";import{g as ot}from"../chunks/BQOuNSWl.js";import{T as We}from"../chunks/DdzD5Ia6.js";import{C as Lt}from"../chunks/Bj4wjJX0.js";import{g as et}from"../chunks/zHt47wQz.js";import"../chunks/Y5_Y8P_F.js";import{M as tt}from"../chunks/DJdYtIAq.js";import{b as Zt}from"../chunks/Q0dgLlT7.js";import{f as Wt}from"../chunks/CBc5jlPY.js";import{D as qt}from"../chunks/CKw898uA.js";import{G as Jt}from"../chunks/DxOt24Hz.js";import{S as $n,D as wn}from"../chunks/Ckbgc--z.js";import{A as bn}from"../chunks/EIgv7DL8.js";import{S as Kt}from"../chunks/ByS21uGt.js";import{G as kn}from"../chunks/CiyLExEO.js";import{E as yn}from"../chunks/Bxwibsk9.js";import{M as In,V as En}from"../chunks/fNi9Z7Yu.js";import{H as Dn}from"../chunks/DcJQpXhx.js";import{S as Vn}from"../chunks/OiM7CIvp.js";import{P as Hn}from"../chunks/Da29ffyI.js";import{C as Cn}from"../chunks/D6nuPx36.js";import{X as Ln}from"../chunks/CydXzgPm.js";import{P as Sn}from"../chunks/aGqpxLSx.js";import{L as Mn}from"../chunks/DvTl0hyR.js";import{M as Fn}from"../chunks/BwsI3ia4.js";import{e as Tn}from"../chunks/j5_Ugju9.js";function Nn(s){let e;const n=s[11].default,t=jt(n,s,s[20],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&1048576)&&zt(t,n,l,l[20],e?Pt(n,l[20],a,null):Gt(l[20]),null)},i(l){e||(S(t,l),e=!0)},o(l){N(t,l),e=!1},d(l){t&&t.d(l)}}}function Bn(s){let e,n;return e=new We({props:{content:s[9].t("More"),$$slots:{default:[Nn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p(t,l){const a={};l&512&&(a.content=t[9].t("More")),l&1048576&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function St(s){let e,n,t,l,a,o=s[9].t("Global")+"",r,i,_,$,D,y,V,I;t=new kn({});function h(d){s[12](d)}let f={};return s[0].is_global!==void 0&&(f.state=s[0].is_global),$=new Kt({props:f}),Ce.push(()=>Ne($,"state",h)),$.$on("change",function(){nn(s[6])&&s[6].apply(this,arguments)}),{c(){e=g("div"),n=g("div"),O(t.$$.fragment),l=M(),a=g("div"),r=Z(o),i=M(),_=g("div"),O($.$$.fragment),y=M(),V=g("hr"),this.h()},l(d){e=v(d,"DIV",{class:!0});var H=k(e);n=v(H,"DIV",{class:!0});var w=k(n);x(t.$$.fragment,w),l=F(w),a=v(w,"DIV",{class:!0});var E=k(a);r=W(E,o),E.forEach(u),w.forEach(u),i=F(H),_=v(H,"DIV",{});var B=k(_);x($.$$.fragment,B),B.forEach(u),H.forEach(u),y=F(d),V=v(d,"HR",{class:!0}),this.h()},h(){p(a,"class","flex items-center"),p(n,"class","flex gap-2 items-center"),p(e,"class","flex gap-2 justify-between items-center px-3 py-2 text-sm font-medium cursor-pointerrounded-md"),p(V,"class","border-gray-100 dark:border-gray-850 my-1")},m(d,H){T(d,e,H),c(e,n),j(t,n,null),c(n,l),c(n,a),c(a,r),c(e,i),c(e,_),j($,_,null),T(d,y,H),T(d,V,H),I=!0},p(d,H){s=d,(!I||H&512)&&o!==(o=s[9].t("Global")+"")&&Y(r,o);const w={};!D&&H&1&&(D=!0,w.state=s[0].is_global,Te(()=>D=!1)),$.$set(w)},i(d){I||(S(t.$$.fragment,d),S($.$$.fragment,d),I=!0)},o(d){N(t.$$.fragment,d),N($.$$.fragment,d),I=!1},d(d){d&&(u(e),u(y),u(V)),z(t),z($)}}}function Un(s){let e,n,t,l,a=s[9].t("Edit")+"",o;return{c(){e=Dt("svg"),n=Dt("path"),t=M(),l=g("div"),o=Z(a),this.h()},l(r){e=Vt(r,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var i=k(e);n=Vt(i,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),k(n).forEach(u),i.forEach(u),t=F(r),l=v(r,"DIV",{class:!0});var _=k(l);o=W(_,a),_.forEach(u),this.h()},h(){p(n,"stroke-linecap","round"),p(n,"stroke-linejoin","round"),p(n,"d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"),p(e,"xmlns","http://www.w3.org/2000/svg"),p(e,"fill","none"),p(e,"viewBox","0 0 24 24"),p(e,"stroke-width","1.5"),p(e,"stroke","currentColor"),p(e,"class","w-4 h-4"),p(l,"class","flex items-center")},m(r,i){T(r,e,i),c(e,n),T(r,t,i),T(r,l,i),c(l,o)},p(r,i){i&512&&a!==(a=r[9].t("Edit")+"")&&Y(o,a)},d(r){r&&(u(e),u(t),u(l))}}}function An(s){let e,n,t,l=s[9].t("Share")+"",a,o;return e=new $n({}),{c(){O(e.$$.fragment),n=M(),t=g("div"),a=Z(l),this.h()},l(r){x(e.$$.fragment,r),n=F(r),t=v(r,"DIV",{class:!0});var i=k(t);a=W(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){j(e,r,i),T(r,n,i),T(r,t,i),c(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Share")+"")&&Y(a,l)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),z(e,r)}}}function On(s){let e,n,t,l=s[9].t("Clone")+"",a,o;return e=new wn({}),{c(){O(e.$$.fragment),n=M(),t=g("div"),a=Z(l),this.h()},l(r){x(e.$$.fragment,r),n=F(r),t=v(r,"DIV",{class:!0});var i=k(t);a=W(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){j(e,r,i),T(r,n,i),T(r,t,i),c(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Clone")+"")&&Y(a,l)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),z(e,r)}}}function xn(s){let e,n,t,l=s[9].t("Export")+"",a,o;return e=new bn({}),{c(){O(e.$$.fragment),n=M(),t=g("div"),a=Z(l),this.h()},l(r){x(e.$$.fragment,r),n=F(r),t=v(r,"DIV",{class:!0});var i=k(t);a=W(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){j(e,r,i),T(r,n,i),T(r,t,i),c(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Export")+"")&&Y(a,l)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),z(e,r)}}}function jn(s){let e,n,t,l=s[9].t("Delete")+"",a,o;return e=new Jt({props:{strokeWidth:"2"}}),{c(){O(e.$$.fragment),n=M(),t=g("div"),a=Z(l),this.h()},l(r){x(e.$$.fragment,r),n=F(r),t=v(r,"DIV",{class:!0});var i=k(t);a=W(i,l),i.forEach(u),this.h()},h(){p(t,"class","flex items-center")},m(r,i){j(e,r,i),T(r,n,i),T(r,t,i),c(t,a),o=!0},p(r,i){(!o||i&512)&&l!==(l=r[9].t("Delete")+"")&&Y(a,l)},i(r){o||(S(e.$$.fragment,r),o=!0)},o(r){N(e.$$.fragment,r),o=!1},d(r){r&&(u(n),u(t)),z(e,r)}}}function zn(s){let e=["filter","action"].includes(s[0].type),n,t,l,a,o,r,i,_,$,D,y,V,I,h=e&&St(s);return t=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[Un]},$$scope:{ctx:s}}}),t.$on("click",s[13]),a=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800  rounded-md",$$slots:{default:[An]},$$scope:{ctx:s}}}),a.$on("click",s[14]),r=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[On]},$$scope:{ctx:s}}}),r.$on("click",s[15]),_=new tt({props:{class:"flex gap-2 items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[xn]},$$scope:{ctx:s}}}),_.$on("click",s[16]),V=new tt({props:{class:"flex  gap-2  items-center px-3 py-2 text-sm  font-medium cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",$$slots:{default:[jn]},$$scope:{ctx:s}}}),V.$on("click",s[17]),{c(){h&&h.c(),n=M(),O(t.$$.fragment),l=M(),O(a.$$.fragment),o=M(),O(r.$$.fragment),i=M(),O(_.$$.fragment),$=M(),D=g("hr"),y=M(),O(V.$$.fragment),this.h()},l(f){h&&h.l(f),n=F(f),x(t.$$.fragment,f),l=F(f),x(a.$$.fragment,f),o=F(f),x(r.$$.fragment,f),i=F(f),x(_.$$.fragment,f),$=F(f),D=v(f,"HR",{class:!0}),y=F(f),x(V.$$.fragment,f),this.h()},h(){p(D,"class","border-gray-100 dark:border-gray-850 my-1")},m(f,d){h&&h.m(f,d),T(f,n,d),j(t,f,d),T(f,l,d),j(a,f,d),T(f,o,d),j(r,f,d),T(f,i,d),j(_,f,d),T(f,$,d),T(f,D,d),T(f,y,d),j(V,f,d),I=!0},p(f,d){d&1&&(e=["filter","action"].includes(f[0].type)),e?h?(h.p(f,d),d&1&&S(h,1)):(h=St(f),h.c(),S(h,1),h.m(n.parentNode,n)):h&&(xe(),N(h,1,1,()=>{h=null}),je());const H={};d&1049088&&(H.$$scope={dirty:d,ctx:f}),t.$set(H);const w={};d&1049088&&(w.$$scope={dirty:d,ctx:f}),a.$set(w);const E={};d&1049088&&(E.$$scope={dirty:d,ctx:f}),r.$set(E);const B={};d&1049088&&(B.$$scope={dirty:d,ctx:f}),_.$set(B);const R={};d&1049088&&(R.$$scope={dirty:d,ctx:f}),V.$set(R)},i(f){I||(S(h),S(t.$$.fragment,f),S(a.$$.fragment,f),S(r.$$.fragment,f),S(_.$$.fragment,f),S(V.$$.fragment,f),I=!0)},o(f){N(h),N(t.$$.fragment,f),N(a.$$.fragment,f),N(r.$$.fragment,f),N(_.$$.fragment,f),N(V.$$.fragment,f),I=!1},d(f){f&&(u(n),u(l),u(o),u(i),u($),u(D),u(y)),h&&h.d(f),z(t,f),z(a,f),z(r,f),z(_,f),z(V,f)}}}function Gn(s){let e,n,t;return n=new Zt({props:{class:"w-full max-w-[180px] rounded-xl px-1 py-1.5 border border-gray-300/30 dark:border-gray-700/50 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-sm",sideOffset:-2,side:"bottom",align:"start",transition:Wt,$$slots:{default:[zn]},$$scope:{ctx:s}}}),{c(){e=g("div"),O(n.$$.fragment),this.h()},l(l){e=v(l,"DIV",{slot:!0});var a=k(e);x(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"slot","content")},m(l,a){T(l,e,a),j(n,e,null),t=!0},p(l,a){const o={};a&1049215&&(o.$$scope={dirty:a,ctx:l}),n.$set(o)},i(l){t||(S(n.$$.fragment,l),t=!0)},o(l){N(n.$$.fragment,l),t=!1},d(l){l&&u(e),z(n)}}}function Pn(s){let e,n,t;function l(o){s[18](o)}let a={$$slots:{content:[Gn],default:[Bn]},$$scope:{ctx:s}};return s[8]!==void 0&&(a.show=s[8]),e=new qt({props:a}),Ce.push(()=>Ne(e,"show",l)),e.$on("change",s[19]),{c(){O(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,r){j(e,o,r),t=!0},p(o,[r]){const i={};r&1049215&&(i.$$scope={dirty:r,ctx:o}),!n&&r&256&&(n=!0,i.show=o[8],Te(()=>n=!1)),e.$set(i)},i(o){t||(S(e.$$.fragment,o),t=!0)},o(o){N(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Rn(s,e,n){let t,{$$slots:l={},$$scope:a}=e;const o=ft("i18n");Ae(s,o,C=>n(9,t=C));let{func:r}=e,{editHandler:i}=e,{shareHandler:_}=e,{cloneHandler:$}=e,{exportHandler:D}=e,{deleteHandler:y}=e,{toggleGlobalHandler:V}=e,{onClose:I}=e,h=!1;function f(C){s.$$.not_equal(r.is_global,C)&&(r.is_global=C,n(0,r))}const d=()=>{i()},H=()=>{_()},w=()=>{$()},E=()=>{D()},B=()=>{y()};function R(C){h=C,n(8,h)}const A=C=>{C.detail===!1&&I()};return s.$$set=C=>{"func"in C&&n(0,r=C.func),"editHandler"in C&&n(1,i=C.editHandler),"shareHandler"in C&&n(2,_=C.shareHandler),"cloneHandler"in C&&n(3,$=C.cloneHandler),"exportHandler"in C&&n(4,D=C.exportHandler),"deleteHandler"in C&&n(5,y=C.deleteHandler),"toggleGlobalHandler"in C&&n(6,V=C.toggleGlobalHandler),"onClose"in C&&n(7,I=C.onClose),"$$scope"in C&&n(20,a=C.$$scope)},[r,i,_,$,D,y,V,I,h,t,o,l,f,d,H,w,E,B,R,A,a]}class Zn extends lt{constructor(e){super(),st(this,e,Rn,Pn,nt,{func:0,editHandler:1,shareHandler:2,cloneHandler:3,exportHandler:4,deleteHandler:5,toggleGlobalHandler:6,onClose:7})}}function Wn(s){let e;const n=s[6].default,t=jt(n,s,s[11],null);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,a){t&&t.m(l,a),e=!0},p(l,a){t&&t.p&&(!e||a&2048)&&zt(t,n,l,l[11],e?Pt(n,l[11],a,null):Gt(l[11]),null)},i(l){e||(S(t,l),e=!0)},o(l){N(t,l),e=!1},d(l){t&&t.d(l)}}}function qn(s){let e,n;return e=new We({props:{content:s[4].t("Create"),$$slots:{default:[Wn]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p(t,l){const a={};l&16&&(a.content=t[4].t("Create")),l&2048&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Jn(s){let e,n,t,l,a,o=s[4].t("New Function")+"",r,i,_,$,D,y,V,I=s[4].t("Import From Link")+"",h,f,d,H;return t=new Sn({}),D=new Mn({}),{c(){e=g("button"),n=g("div"),O(t.$$.fragment),l=M(),a=g("div"),r=Z(o),i=M(),_=g("button"),$=g("div"),O(D.$$.fragment),y=M(),V=g("div"),h=Z(I),this.h()},l(w){e=v(w,"BUTTON",{class:!0});var E=k(e);n=v(E,"DIV",{class:!0});var B=k(n);x(t.$$.fragment,B),B.forEach(u),l=F(E),a=v(E,"DIV",{class:!0});var R=k(a);r=W(R,o),R.forEach(u),E.forEach(u),i=F(w),_=v(w,"BUTTON",{class:!0});var A=k(_);$=v(A,"DIV",{class:!0});var C=k($);x(D.$$.fragment,C),C.forEach(u),y=F(A),V=v(A,"DIV",{class:!0});var se=k(V);h=W(se,I),se.forEach(u),A.forEach(u),this.h()},h(){p(n,"class","self-center mr-2"),p(a,"class","self-center truncate"),p(e,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition"),p($,"class","self-center mr-2"),p(V,"class","self-center truncate"),p(_,"class","flex rounded-md py-1.5 px-3 w-full hover:bg-gray-50 dark:hover:bg-gray-800 transition")},m(w,E){T(w,e,E),c(e,n),j(t,n,null),c(e,l),c(e,a),c(a,r),T(w,i,E),T(w,_,E),c(_,$),j(D,$,null),c(_,y),c(_,V),c(V,h),f=!0,d||(H=[Ie(e,"click",s[7]),Ie(_,"click",s[8])],d=!0)},p(w,E){(!f||E&16)&&o!==(o=w[4].t("New Function")+"")&&Y(r,o),(!f||E&16)&&I!==(I=w[4].t("Import From Link")+"")&&Y(h,I)},i(w){f||(S(t.$$.fragment,w),S(D.$$.fragment,w),f=!0)},o(w){N(t.$$.fragment,w),N(D.$$.fragment,w),f=!1},d(w){w&&(u(e),u(i),u(_)),z(t),z(D),d=!1,dt(H)}}}function Kn(s){let e,n,t;return n=new Zt({props:{class:"w-full max-w-[190px] text-sm rounded-xl px-1 py-1.5 z-50 bg-white dark:bg-gray-850 dark:text-white shadow-lg font-primary",sideOffset:-2,side:"bottom",align:"start",transition:Wt,$$slots:{default:[Jn]},$$scope:{ctx:s}}}),{c(){e=g("div"),O(n.$$.fragment),this.h()},l(l){e=v(l,"DIV",{slot:!0});var a=k(e);x(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"slot","content")},m(l,a){T(l,e,a),j(n,e,null),t=!0},p(l,a){const o={};a&2075&&(o.$$scope={dirty:a,ctx:l}),n.$set(o)},i(l){t||(S(n.$$.fragment,l),t=!0)},o(l){N(n.$$.fragment,l),t=!1},d(l){l&&u(e),z(n)}}}function Xn(s){let e,n,t;function l(o){s[9](o)}let a={$$slots:{content:[Kn],default:[qn]},$$scope:{ctx:s}};return s[3]!==void 0&&(a.show=s[3]),e=new qt({props:a}),Ce.push(()=>Ne(e,"show",l)),e.$on("change",s[10]),{c(){O(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,r){j(e,o,r),t=!0},p(o,[r]){const i={};r&2075&&(i.$$scope={dirty:r,ctx:o}),!n&&r&8&&(n=!0,i.show=o[3],Te(()=>n=!1)),e.$set(i)},i(o){t||(S(e.$$.fragment,o),t=!0)},o(o){N(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function Yn(s,e,n){let t,{$$slots:l={},$$scope:a}=e;const o=ft("i18n");Ae(s,o,h=>n(4,t=h));let{createHandler:r}=e,{importFromLinkHandler:i}=e,{onClose:_=()=>{}}=e,$=!1;const D=async()=>{r(),n(3,$=!1)},y=async()=>{i(),n(3,$=!1)};function V(h){$=h,n(3,$)}const I=h=>{h.detail===!1&&_()};return s.$$set=h=>{"createHandler"in h&&n(0,r=h.createHandler),"importFromLinkHandler"in h&&n(1,i=h.importFromLinkHandler),"onClose"in h&&n(2,_=h.onClose),"$$scope"in h&&n(11,a=h.$$scope)},[r,i,_,$,t,o,l,D,y,V,I,a]}class Qn extends lt{constructor(e){super(),st(this,e,Yn,Xn,nt,{createHandler:0,importFromLinkHandler:1,onClose:2})}}function Mt(s){let e,n=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
												transform-origin: center;
												animation: spinner_AtaB 0.75s infinite linear;
											}
											@keyframes spinner_AtaB {
												100% {
													transform: rotate(360deg);
												}
											}
										</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=g("div"),e.innerHTML=n,this.h()},l(t){e=v(t,"DIV",{class:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-1vuzrxa"&&(e.innerHTML=n),this.h()},h(){p(e,"class","ml-2 self-center")},m(t,l){T(t,e,l)},d(t){t&&u(e)}}}function el(s){let e,n,t,l=s[3].t("Import")+"",a,o,r,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',_,$,D,y,V,I,h,f=s[3].t("URL")+"",d,H,w,E,B,R,A,C,se=s[3].t("Import")+"",ne,Q,q,_e,re,U=s[1]&&Mt();return{c(){e=g("div"),n=g("div"),t=g("div"),a=Z(l),o=M(),r=g("button"),r.innerHTML=i,_=M(),$=g("div"),D=g("div"),y=g("form"),V=g("div"),I=g("div"),h=g("div"),d=Z(f),H=M(),w=g("div"),E=g("input"),R=M(),A=g("div"),C=g("button"),ne=Z(se),Q=M(),U&&U.c(),this.h()},l(ee){e=v(ee,"DIV",{});var J=k(e);n=v(J,"DIV",{class:!0});var K=k(n);t=v(K,"DIV",{class:!0});var ie=k(t);a=W(ie,l),ie.forEach(u),o=F(K),r=v(K,"BUTTON",{class:!0,"data-svelte-h":!0}),Ze(r)!=="svelte-745w2y"&&(r.innerHTML=i),K.forEach(u),_=F(J),$=v(J,"DIV",{class:!0});var te=k($);D=v(te,"DIV",{class:!0});var Ve=k(D);y=v(Ve,"FORM",{class:!0});var fe=k(y);V=v(fe,"DIV",{class:!0});var we=k(V);I=v(we,"DIV",{class:!0});var ge=k(I);h=v(ge,"DIV",{class:!0});var le=k(h);d=W(le,f),le.forEach(u),H=F(ge),w=v(ge,"DIV",{class:!0});var X=k(w);E=v(X,"INPUT",{class:!0,type:!0,placeholder:!0}),X.forEach(u),ge.forEach(u),we.forEach(u),R=F(fe),A=v(fe,"DIV",{class:!0});var ue=k(A);C=v(ue,"BUTTON",{class:!0,type:!0});var de=k(C);ne=W(de,se),Q=F(de),U&&U.l(de),de.forEach(u),ue.forEach(u),fe.forEach(u),Ve.forEach(u),te.forEach(u),J.forEach(u),this.h()},h(){p(t,"class","text-lg font-medium self-center"),p(r,"class","self-center"),p(n,"class","flex justify-between dark:text-gray-300 px-5 pt-4 pb-2"),p(h,"class","mb-1 text-xs text-gray-500"),p(E,"class","w-full text-sm bg-transparent disabled:text-gray-500 dark:disabled:text-gray-500 outline-hidden"),p(E,"type","url"),p(E,"placeholder",B=s[3].t("Enter the URL of the function to import")),E.required=!0,p(w,"class","flex-1"),p(I,"class","flex flex-col w-full"),p(V,"class","px-1"),p(C,"class",q="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),p(C,"type","submit"),C.disabled=s[1],p(A,"class","flex justify-end pt-3 text-sm font-medium"),p(y,"class","flex flex-col w-full"),p(D,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),p($,"class","flex flex-col md:flex-row w-full px-4 pb-3 md:space-x-4 dark:text-gray-200")},m(ee,J){T(ee,e,J),c(e,n),c(n,t),c(t,a),c(n,o),c(n,r),c(e,_),c(e,$),c($,D),c(D,y),c(y,V),c(V,I),c(I,h),c(h,d),c(I,H),c(I,w),c(w,E),it(E,s[2]),c(y,R),c(y,A),c(A,C),c(C,ne),c(C,Q),U&&U.m(C,null),_e||(re=[Ie(r,"click",s[8]),Ie(E,"input",s[9]),Ie(y,"submit",ln(s[10]))],_e=!0)},p(ee,J){J&8&&l!==(l=ee[3].t("Import")+"")&&Y(a,l),J&8&&f!==(f=ee[3].t("URL")+"")&&Y(d,f),J&8&&B!==(B=ee[3].t("Enter the URL of the function to import"))&&p(E,"placeholder",B),J&4&&E.value!==ee[2]&&it(E,ee[2]),J&8&&se!==(se=ee[3].t("Import")+"")&&Y(ne,se),ee[1]?U||(U=Mt(),U.c(),U.m(C,null)):U&&(U.d(1),U=null),J&2&&q!==(q="px-3.5 py-1.5 text-sm font-medium bg-black hover:bg-gray-900 text-white dark:bg-white dark:text-black dark:hover:bg-gray-100 transition rounded-full flex flex-row space-x-1 items-center "+(ee[1]?" cursor-not-allowed":""))&&p(C,"class",q),J&2&&(C.disabled=ee[1])},d(ee){ee&&u(e),U&&U.d(),_e=!1,dt(re)}}}function tl(s){let e,n,t;function l(o){s[11](o)}let a={size:"sm",$$slots:{default:[el]},$$scope:{ctx:s}};return s[0]!==void 0&&(a.show=s[0]),e=new Fn({props:a}),Ce.push(()=>Ne(e,"show",l)),{c(){O(e.$$.fragment)},l(o){x(e.$$.fragment,o)},m(o,r){j(e,o,r),t=!0},p(o,[r]){const i={};r&4111&&(i.$$scope={dirty:r,ctx:o}),!n&&r&1&&(n=!0,i.show=o[0],Te(()=>n=!1)),e.$set(i)},i(o){t||(S(e.$$.fragment,o),t=!0)},o(o){N(e.$$.fragment,o),t=!1},d(o){z(e,o)}}}function nl(s,e,n){let t;const l=ft("i18n");Ae(s,l,h=>n(3,t=h));let{show:a=!1}=e,{onImport:o=h=>{}}=e,{onClose:r=()=>{}}=e,i=!1,_="";const $=async()=>{if(n(1,i=!0),!_){ce.error(t.t("Please enter a valid URL")),n(1,i=!1);return}const h=await un(localStorage.token,_).catch(f=>(ce.error(`${f}`),null));if(h){ce.success(t.t("Function loaded successfully"));let f=h;f.id=f.id||f.name.replace(/\s+/g,"_").toLowerCase();const d=Tn(h.content);d!=null&&d.title&&(f.name=d.title),f.meta={...f.meta??{},description:(d==null?void 0:d.description)??f.name},o(f),n(0,a=!1)}},D=()=>{n(0,a=!1)};function y(){_=this.value,n(2,_)}const V=()=>{$()};function I(h){a=h,n(0,a)}return s.$$set=h=>{"show"in h&&n(0,a=h.show),"onImport"in h&&n(6,o=h.onImport),"onClose"in h&&n(7,r=h.onClose)},[a,i,_,t,l,$,o,r,D,y,V,I]}class ll extends lt{constructor(e){super(),st(this,e,nl,tl,nt,{show:0,onImport:6,onClose:7})}}function Ft(s,e,n){const t=s.slice();return t[52]=e[n],t[53]=e,t[54]=n,t}function Tt(s){let e,n,t,l,a,o;return t=new Ln({props:{className:"size-3",strokeWidth:"2"}}),{c(){e=g("div"),n=g("button"),O(t.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=k(e);n=v(i,"BUTTON",{class:!0});var _=k(n);x(t.$$.fragment,_),_.forEach(u),i.forEach(u),this.h()},h(){p(n,"class","p-0.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-900 transition"),p(e,"class","self-center pl-1.5 translate-y-[0.5px] rounded-l-xl bg-transparent")},m(r,i){T(r,e,i),c(e,n),j(t,n,null),l=!0,a||(o=Ie(n,"click",s[26]),a=!0)},p:mt,i(r){l||(S(t.$$.fragment,r),l=!0)},o(r){N(t.$$.fragment,r),l=!1},d(r){r&&u(e),z(t),a=!1,o()}}}function sl(s){let e,n,t;return n=new Hn({props:{className:"size-3.5"}}),{c(){e=g("div"),O(n.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var a=k(e);x(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","px-2 py-2 rounded-xl hover:bg-gray-700/10 dark:hover:bg-gray-100/10 dark:text-gray-300 dark:hover:text-white transition font-medium text-sm flex items-center space-x-1")},m(l,a){T(l,e,a),j(n,e,null),t=!0},p:mt,i(l){t||(S(n.$$.fragment,l),t=!0)},o(l){N(n.$$.fragment,l),t=!1},d(l){l&&u(e),z(n)}}}function Nt(s){var a,o,r;let e,n,t=(((r=(o=(a=s[52])==null?void 0:a.meta)==null?void 0:o.manifest)==null?void 0:r.version)??"")+"",l;return{c(){e=g("div"),n=Z("v"),l=Z(t),this.h()},l(i){e=v(i,"DIV",{class:!0});var _=k(e);n=W(_,"v"),l=W(_,t),_.forEach(u),this.h()},h(){p(e,"class","text-xs font-bold px-1 rounded-sm line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200")},m(i,_){T(i,e,_),c(e,n),c(e,l)},p(i,_){var $,D,y;_[0]&2048&&t!==(t=(((y=(D=($=i[52])==null?void 0:$.meta)==null?void 0:D.manifest)==null?void 0:y.version)??"")+"")&&Y(l,t)},d(i){i&&u(e)}}}function rl(s){var V,I,h;let e,n,t,l,a,o=(((h=(I=(V=s[52])==null?void 0:V.meta)==null?void 0:I.manifest)==null?void 0:h.funding_url)??!1)&&Bt(s);n=new We({props:{content:s[14].t("Valves"),$$slots:{default:[il]},$$scope:{ctx:s}}});function r(){return s[32](s[52])}function i(){return s[33](s[52])}function _(){return s[34](s[52])}function $(){return s[35](s[52])}function D(){return s[36](s[52])}function y(){return s[37](s[52])}return l=new Zn({props:{func:s[52],editHandler:r,shareHandler:i,cloneHandler:_,exportHandler:$,deleteHandler:D,toggleGlobalHandler:y,onClose:pl,$$slots:{default:[fl]},$$scope:{ctx:s}}}),{c(){o&&o.c(),e=M(),O(n.$$.fragment),t=M(),O(l.$$.fragment)},l(f){o&&o.l(f),e=F(f),x(n.$$.fragment,f),t=F(f),x(l.$$.fragment,f)},m(f,d){o&&o.m(f,d),T(f,e,d),j(n,f,d),T(f,t,d),j(l,f,d),a=!0},p(f,d){var E,B,R;s=f,((R=(B=(E=s[52])==null?void 0:E.meta)==null?void 0:B.manifest)==null?void 0:R.funding_url)??!1?o?(o.p(s,d),d[0]&2048&&S(o,1)):(o=Bt(s),o.c(),S(o,1),o.m(e.parentNode,e)):o&&(xe(),N(o,1,1,()=>{o=null}),je());const H={};d[0]&16384&&(H.content=s[14].t("Valves")),d[0]&2816|d[1]&16777216&&(H.$$scope={dirty:d,ctx:s}),n.$set(H);const w={};d[0]&2048&&(w.func=s[52]),d[0]&2048&&(w.editHandler=r),d[0]&2048&&(w.shareHandler=i),d[0]&2048&&(w.cloneHandler=_),d[0]&2048&&(w.exportHandler=$),d[0]&3584&&(w.deleteHandler=D),d[0]&2048&&(w.toggleGlobalHandler=y),d[1]&16777216&&(w.$$scope={dirty:d,ctx:s}),l.$set(w)},i(f){a||(S(o),S(n.$$.fragment,f),S(l.$$.fragment,f),a=!0)},o(f){N(o),N(n.$$.fragment,f),N(l.$$.fragment,f),a=!1},d(f){f&&(u(e),u(t)),o&&o.d(f),z(n,f),z(l,f)}}}function ol(s){let e,n;return e=new We({props:{content:s[14].t("Delete"),$$slots:{default:[ul]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p(t,l){const a={};l[0]&16384&&(a.content=t[14].t("Delete")),l[0]&2048|l[1]&16777216&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function Bt(s){let e,n;return e=new We({props:{content:s[14].t("Support"),$$slots:{default:[al]},$$scope:{ctx:s}}}),{c(){O(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},p(t,l){const a={};l[0]&16384&&(a.content=t[14].t("Support")),l[0]&2688|l[1]&16777216&&(a.$$scope={dirty:l,ctx:t}),e.$set(a)},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function al(s){let e,n,t,l,a;n=new Dn({});function o(){return s[30](s[52])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var i=k(e);x(n.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(r,i){T(r,e,i),j(n,e,null),t=!0,l||(a=Ie(e,"click",o),l=!0)},p(r,i){s=r},i(r){t||(S(n.$$.fragment,r),t=!0)},o(r){N(n.$$.fragment,r),t=!1},d(r){r&&u(e),z(n),l=!1,a()}}}function il(s){let e,n='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>',t,l;function a(){return s[31](s[52])}return{c(){e=g("button"),e.innerHTML=n,this.h()},l(o){e=v(o,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Ze(e)!=="svelte-1d80tim"&&(e.innerHTML=n),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(o,r){T(o,e,r),t||(l=Ie(e,"click",a),t=!0)},p(o,r){s=o},d(o){o&&u(e),t=!1,l()}}}function fl(s){let e,n,t;return n=new yn({props:{className:"size-5"}}),{c(){e=g("button"),O(n.$$.fragment),this.h()},l(l){e=v(l,"BUTTON",{class:!0,type:!0});var a=k(e);x(n.$$.fragment,a),a.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm p-1.5 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(l,a){T(l,e,a),j(n,e,null),t=!0},p:mt,i(l){t||(S(n.$$.fragment,l),t=!0)},o(l){N(n.$$.fragment,l),t=!1},d(l){l&&u(e),z(n)}}}function ul(s){let e,n,t,l,a;n=new Jt({});function o(){return s[29](s[52])}return{c(){e=g("button"),O(n.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0,type:!0});var i=k(e);x(n.$$.fragment,i),i.forEach(u),this.h()},h(){p(e,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),p(e,"type","button")},m(r,i){T(r,e,i),j(n,e,null),t=!0,l||(a=Ie(e,"click",o),l=!0)},p(r,i){s=r},i(r){t||(S(n.$$.fragment,r),t=!0)},o(r){N(n.$$.fragment,r),t=!1},d(r){r&&u(e),z(n),l=!1,a()}}}function cl(s){let e,n,t;function l(r){s[38](r,s[52])}function a(...r){return s[39](s[52],...r)}let o={};return s[52].is_active!==void 0&&(o.state=s[52].is_active),e=new Kt({props:o}),Ce.push(()=>Ne(e,"state",l)),e.$on("change",a),{c(){O(e.$$.fragment)},l(r){x(e.$$.fragment,r)},m(r,i){j(e,r,i),t=!0},p(r,i){s=r;const _={};!n&&i[0]&2048&&(n=!0,_.state=s[52].is_active,Te(()=>n=!1)),e.$set(_)},i(r){t||(S(e.$$.fragment,r),t=!0)},o(r){N(e.$$.fragment,r),t=!1},d(r){z(e,r)}}}function Ut(s,e){var fe,we,ge;let n,t,l,a,o,r,i=e[52].type+"",_,$,D,y,V=e[52].name+"",I,h,f,d,H=e[52].id+"",w,E,B,R=e[52].meta.description+"",A,C,se,ne,Q,q,_e,re,U,ee,J,K=((ge=(we=(fe=e[52])==null?void 0:fe.meta)==null?void 0:we.manifest)==null?void 0:ge.version)&&Nt(e);const ie=[ol,rl],te=[];function Ve(le,X){return le[2]?0:1}return Q=Ve(e),q=te[Q]=ie[Q](e),U=new We({props:{content:e[52].is_active?e[14].t("Enabled"):e[14].t("Disabled"),$$slots:{default:[cl]},$$scope:{ctx:e}}}),{key:s,first:null,c(){n=g("div"),t=g("a"),l=g("div"),a=g("div"),o=g("div"),r=g("div"),_=Z(i),$=M(),K&&K.c(),D=M(),y=g("div"),I=Z(V),h=M(),f=g("div"),d=g("div"),w=Z(H),E=M(),B=g("div"),A=Z(R),se=M(),ne=g("div"),q.c(),_e=M(),re=g("div"),O(U.$$.fragment),ee=M(),this.h()},l(le){n=v(le,"DIV",{class:!0});var X=k(n);t=v(X,"A",{class:!0,href:!0});var ue=k(t);l=v(ue,"DIV",{class:!0});var de=k(l);a=v(de,"DIV",{class:!0});var Ee=k(a);o=v(Ee,"DIV",{class:!0});var me=k(o);r=v(me,"DIV",{class:!0});var be=k(r);_=W(be,i),be.forEach(u),$=F(me),K&&K.l(me),D=F(me),y=v(me,"DIV",{class:!0});var ve=k(y);I=W(ve,V),ve.forEach(u),me.forEach(u),h=F(Ee),f=v(Ee,"DIV",{class:!0});var Le=k(f);d=v(Le,"DIV",{class:!0});var Be=k(d);w=W(Be,H),Be.forEach(u),E=F(Le),B=v(Le,"DIV",{class:!0});var ke=k(B);A=W(ke,R),ke.forEach(u),Le.forEach(u),Ee.forEach(u),de.forEach(u),ue.forEach(u),se=F(X),ne=v(X,"DIV",{class:!0});var Se=k(ne);q.l(Se),_e=F(Se),re=v(Se,"DIV",{class:!0});var Ue=k(re);x(U.$$.fragment,Ue),Ue.forEach(u),Se.forEach(u),ee=F(X),X.forEach(u),this.h()},h(){p(r,"class","text-xs font-bold px-1 rounded-sm uppercase line-clamp-1 bg-gray-500/20 text-gray-700 dark:text-gray-200"),p(y,"class","line-clamp-1"),p(o,"class","font-semibold flex items-center gap-1.5"),p(d,"class","text-gray-500 text-xs font-medium shrink-0"),p(B,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),p(f,"class","flex gap-1.5 px-1"),p(a,"class","flex-1 self-center pl-1"),p(l,"class","flex items-center text-left"),p(t,"class","flex flex-1 space-x-3.5 cursor-pointer w-full"),p(t,"href",C=`/admin/functions/edit?id=${encodeURIComponent(e[52].id)}`),p(re,"class","self-center mx-1"),p(ne,"class","flex flex-row gap-0.5 self-center"),p(n,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl"),this.first=n},m(le,X){T(le,n,X),c(n,t),c(t,l),c(l,a),c(a,o),c(o,r),c(r,_),c(o,$),K&&K.m(o,null),c(o,D),c(o,y),c(y,I),c(a,h),c(a,f),c(f,d),c(d,w),c(f,E),c(f,B),c(B,A),c(n,se),c(n,ne),te[Q].m(ne,null),c(ne,_e),c(ne,re),j(U,re,null),c(n,ee),J=!0},p(le,X){var Ee,me,be;e=le,(!J||X[0]&2048)&&i!==(i=e[52].type+"")&&Y(_,i),(be=(me=(Ee=e[52])==null?void 0:Ee.meta)==null?void 0:me.manifest)!=null&&be.version?K?K.p(e,X):(K=Nt(e),K.c(),K.m(o,D)):K&&(K.d(1),K=null),(!J||X[0]&2048)&&V!==(V=e[52].name+"")&&Y(I,V),(!J||X[0]&2048)&&H!==(H=e[52].id+"")&&Y(w,H),(!J||X[0]&2048)&&R!==(R=e[52].meta.description+"")&&Y(A,R),(!J||X[0]&2048&&C!==(C=`/admin/functions/edit?id=${encodeURIComponent(e[52].id)}`))&&p(t,"href",C);let ue=Q;Q=Ve(e),Q===ue?te[Q].p(e,X):(xe(),N(te[ue],1,1,()=>{te[ue]=null}),je(),q=te[Q],q?q.p(e,X):(q=te[Q]=ie[Q](e),q.c()),S(q,1),q.m(ne,_e));const de={};X[0]&18432&&(de.content=e[52].is_active?e[14].t("Enabled"):e[14].t("Disabled")),X[0]&14336|X[1]&16777216&&(de.$$scope={dirty:X,ctx:e}),U.$set(de)},i(le){J||(S(q),S(U.$$.fragment,le),J=!0)},o(le){N(q),N(U.$$.fragment,le),J=!1},d(le){le&&u(n),K&&K.d(),te[Q].d(),z(U)}}}function At(s){let e,n,t=s[14].t("Export Functions")+"",l,a,o=s[1].length+"",r,i,_,$,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg>',y,V;return{c(){e=g("button"),n=g("div"),l=Z(t),a=Z(" ("),r=Z(o),i=Z(")"),_=M(),$=g("div"),$.innerHTML=D,this.h()},l(I){e=v(I,"BUTTON",{class:!0});var h=k(e);n=v(h,"DIV",{class:!0});var f=k(n);l=W(f,t),a=W(f," ("),r=W(f,o),i=W(f,")"),f.forEach(u),_=F(h),$=v(h,"DIV",{class:!0,"data-svelte-h":!0}),Ze($)!=="svelte-rhgvuh"&&($.innerHTML=D),h.forEach(u),this.h()},h(){p(n,"class","self-center mr-2 font-medium line-clamp-1"),p($,"class","self-center"),p(e,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition")},m(I,h){T(I,e,h),c(e,n),c(n,l),c(n,a),c(n,r),c(n,i),c(e,_),c(e,$),y||(V=Ie(e,"click",s[44]),y=!0)},p(I,h){h[0]&16384&&t!==(t=I[14].t("Export Functions")+"")&&Y(l,t),h[0]&2&&o!==(o=I[1].length+"")&&Y(r,o)},d(I){I&&u(e),y=!1,V()}}}function Ot(s){let e,n,t=s[14].t("Made by Open WebUI Community")+"",l,a,o,r,i,_=s[14].t("Discover a function")+"",$,D,y,V=s[14].t("Discover, download, and explore custom functions")+"",I,h,f,d,H,w;return H=new Cn({}),{c(){e=g("div"),n=g("div"),l=Z(t),a=M(),o=g("a"),r=g("div"),i=g("div"),$=Z(_),D=M(),y=g("div"),I=Z(V),h=M(),f=g("div"),d=g("div"),O(H.$$.fragment),this.h()},l(E){e=v(E,"DIV",{class:!0});var B=k(e);n=v(B,"DIV",{class:!0});var R=k(n);l=W(R,t),R.forEach(u),a=F(B),o=v(B,"A",{class:!0,href:!0,target:!0});var A=k(o);r=v(A,"DIV",{class:!0});var C=k(r);i=v(C,"DIV",{class:!0});var se=k(i);$=W(se,_),se.forEach(u),D=F(C),y=v(C,"DIV",{class:!0});var ne=k(y);I=W(ne,V),ne.forEach(u),C.forEach(u),h=F(A),f=v(A,"DIV",{});var Q=k(f);d=v(Q,"DIV",{});var q=k(d);x(H.$$.fragment,q),q.forEach(u),Q.forEach(u),A.forEach(u),B.forEach(u),this.h()},h(){p(n,"class","text-xl font-medium mb-1 line-clamp-1"),p(i,"class","font-semibold line-clamp-1"),p(y,"class","text-sm line-clamp-1"),p(r,"class","self-center"),p(o,"class","flex cursor-pointer items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-850 w-full mb-2 px-3.5 py-1.5 rounded-xl transition"),p(o,"href","https://openwebui.com/#open-webui-community"),p(o,"target","_blank"),p(e,"class","my-16")},m(E,B){T(E,e,B),c(e,n),c(n,l),c(e,a),c(e,o),c(o,r),c(r,i),c(i,$),c(r,D),c(r,y),c(y,I),c(o,h),c(o,f),c(f,d),j(H,d,null),w=!0},p(E,B){(!w||B[0]&16384)&&t!==(t=E[14].t("Made by Open WebUI Community")+"")&&Y(l,t),(!w||B[0]&16384)&&_!==(_=E[14].t("Discover a function")+"")&&Y($,_),(!w||B[0]&16384)&&V!==(V=E[14].t("Discover, download, and explore custom functions")+"")&&Y(I,V)},i(E){w||(S(H.$$.fragment,E),w=!0)},o(E){N(H.$$.fragment,E),w=!1},d(E){E&&u(e),z(H)}}}function dl(s){let e,n=s[14].t("This will delete")+"",t,l,a,o=s[9].name+"",r,i;return{c(){e=g("div"),t=Z(n),l=M(),a=g("span"),r=Z(o),i=Z("."),this.h()},l(_){e=v(_,"DIV",{class:!0});var $=k(e);t=W($,n),l=F($),a=v($,"SPAN",{class:!0});var D=k(a);r=W(D,o),D.forEach(u),i=W($,"."),$.forEach(u),this.h()},h(){p(a,"class","font-semibold"),p(e,"class","text-sm text-gray-500")},m(_,$){T(_,e,$),c(e,t),c(e,l),c(e,a),c(a,r),c(e,i)},p(_,$){$[0]&16384&&n!==(n=_[14].t("This will delete")+"")&&Y(t,n),$[0]&512&&o!==(o=_[9].name+"")&&Y(r,o)},d(_){_&&u(e)}}}function ml(s){let e,n,t,l="Please carefully review the following warnings:",a,o,r,i=s[14].t("Functions allow arbitrary code execution.")+"",_,$,D,y=s[14].t("Do not install functions from sources you do not fully trust.")+"",V,I,h,f=s[14].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"",d;return{c(){e=g("div"),n=g("div"),t=g("div"),t.textContent=l,a=M(),o=g("ul"),r=g("li"),_=Z(i),$=M(),D=g("li"),V=Z(y),I=M(),h=g("div"),d=Z(f),this.h()},l(H){e=v(H,"DIV",{class:!0});var w=k(e);n=v(w,"DIV",{class:!0});var E=k(n);t=v(E,"DIV",{"data-svelte-h":!0}),Ze(t)!=="svelte-1a6manw"&&(t.textContent=l),a=F(E),o=v(E,"UL",{class:!0});var B=k(o);r=v(B,"LI",{});var R=k(r);_=W(R,i),R.forEach(u),$=F(B),D=v(B,"LI",{});var A=k(D);V=W(A,y),A.forEach(u),B.forEach(u),E.forEach(u),I=F(w),h=v(w,"DIV",{class:!0});var C=k(h);d=W(C,f),C.forEach(u),w.forEach(u),this.h()},h(){p(o,"class","mt-1 list-disc pl-4 text-xs"),p(n,"class","bg-yellow-500/20 text-yellow-700 dark:text-yellow-200 rounded-lg px-4 py-3"),p(h,"class","my-3"),p(e,"class","text-sm text-gray-500")},m(H,w){T(H,e,w),c(e,n),c(n,t),c(n,a),c(n,o),c(o,r),c(r,_),c(o,$),c(o,D),c(D,V),c(e,I),c(e,h),c(h,d)},p(H,w){w[0]&16384&&i!==(i=H[14].t("Functions allow arbitrary code execution.")+"")&&Y(_,i),w[0]&16384&&y!==(y=H[14].t("Do not install functions from sources you do not fully trust.")+"")&&Y(V,y),w[0]&16384&&f!==(f=H[14].t("I acknowledge that I have read and I understand the implications of my action. I am aware of the risks associated with executing arbitrary code and I have verified the trustworthiness of the source.")+"")&&Y(d,f)},d(H){H&&u(e)}}}function hl(s){var bt,kt,yt,It;let e,n,t,l,a,o,r,i,_=s[14].t("Functions")+"",$,D,y,V,I,h=s[11].length+"",f,d,H,w,E,B,R,A,C,se,ne,Q,q,_e,re,U=[],ee=new Map,J,K,ie,te,Ve,fe,we,ge=s[14].t("Import Functions")+"",le,X,ue,de='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg>',Ee,me,be,ve,Le,Be,ke,Se,Ue,De,b,G,P,he,ye,Me,ht;document.title=e=`
		`+s[14].t("Functions")+" • "+s[15]+`
	`;function Xt(m){s[24](m)}let pt={onImport:s[23]};s[5]!==void 0&&(pt.show=s[5]),t=new ll({props:pt}),Ce.push(()=>Ne(t,"show",Xt)),B=new Vn({props:{className:"size-3.5"}});let oe=s[0]&&Tt(s);q=new Qn({props:{createHandler:s[27],importFromLinkHandler:s[28],$$slots:{default:[sl]},$$scope:{ctx:s}}});let qe=Ct(s[11]);const _t=m=>m[52].id;for(let m=0;m<qe.length;m+=1){let L=Ft(s,qe,m),$e=_t(L);ee.set($e,U[m]=Ut($e,L))}let pe=s[1].length&&At(s),ae=((bt=s[13])==null?void 0:bt.features.enable_community_sharing)&&Ot(s);function Yt(m){s[45](m)}let gt={title:s[14].t("Delete function?"),$$slots:{default:[dl]},$$scope:{ctx:s}};s[10]!==void 0&&(gt.show=s[10]),ve=new Lt({props:gt}),Ce.push(()=>Ne(ve,"show",Yt)),ve.$on("confirm",s[46]);function Qt(m){s[47](m)}let vt={manifest:((yt=(kt=s[9])==null?void 0:kt.meta)==null?void 0:yt.manifest)??{}};s[7]!==void 0&&(vt.show=s[7]),ke=new In({props:vt}),Ce.push(()=>Ne(ke,"show",Qt));function en(m){s[48](m)}let $t={type:"function",id:((It=s[9])==null?void 0:It.id)??null};s[8]!==void 0&&($t.show=s[8]),De=new En({props:$t}),Ce.push(()=>Ne(De,"show",en)),De.$on("save",s[49]);function tn(m){s[50](m)}let wt={$$slots:{default:[ml]},$$scope:{ctx:s}};return s[6]!==void 0&&(wt.show=s[6]),P=new Lt({props:wt}),Ce.push(()=>Ne(P,"show",tn)),P.$on("confirm",s[51]),{c(){n=M(),O(t.$$.fragment),a=M(),o=g("div"),r=g("div"),i=g("div"),$=Z(_),D=M(),y=g("div"),V=M(),I=g("span"),f=Z(h),d=M(),H=g("div"),w=g("div"),E=g("div"),O(B.$$.fragment),R=M(),A=g("input"),se=M(),oe&&oe.c(),ne=M(),Q=g("div"),O(q.$$.fragment),_e=M(),re=g("div");for(let m=0;m<U.length;m+=1)U[m].c();J=M(),K=g("div"),ie=g("div"),te=g("input"),Ve=M(),fe=g("button"),we=g("div"),le=Z(ge),X=M(),ue=g("div"),ue.innerHTML=de,Ee=M(),pe&&pe.c(),me=M(),ae&&ae.c(),be=M(),O(ve.$$.fragment),Be=M(),O(ke.$$.fragment),Ue=M(),O(De.$$.fragment),G=M(),O(P.$$.fragment),this.h()},l(m){sn("svelte-1ppcpz9",document.head).forEach(u),n=F(m),x(t.$$.fragment,m),a=F(m),o=v(m,"DIV",{class:!0});var $e=k(o);r=v($e,"DIV",{class:!0});var ze=k(r);i=v(ze,"DIV",{class:!0});var He=k(i);$=W(He,_),D=F(He),y=v(He,"DIV",{class:!0}),k(y).forEach(u),V=F(He),I=v(He,"SPAN",{class:!0});var Ge=k(I);f=W(Ge,h),Ge.forEach(u),He.forEach(u),ze.forEach(u),d=F($e),H=v($e,"DIV",{class:!0});var Oe=k(H);w=v(Oe,"DIV",{class:!0});var Fe=k(w);E=v(Fe,"DIV",{class:!0});var Je=k(E);x(B.$$.fragment,Je),Je.forEach(u),R=F(Fe),A=v(Fe,"INPUT",{class:!0,placeholder:!0}),se=F(Fe),oe&&oe.l(Fe),Fe.forEach(u),ne=F(Oe),Q=v(Oe,"DIV",{});var Ke=k(Q);x(q.$$.fragment,Ke),Ke.forEach(u),Oe.forEach(u),$e.forEach(u),_e=F(m),re=v(m,"DIV",{class:!0});var Xe=k(re);for(let ut=0;ut<U.length;ut+=1)U[ut].l(Xe);Xe.forEach(u),J=F(m),K=v(m,"DIV",{class:!0});var Ye=k(K);ie=v(Ye,"DIV",{class:!0});var Pe=k(ie);te=v(Pe,"INPUT",{id:!0,type:!0,accept:!0}),Ve=F(Pe),fe=v(Pe,"BUTTON",{class:!0});var rt=k(fe);we=v(rt,"DIV",{class:!0});var Et=k(we);le=W(Et,ge),Et.forEach(u),X=F(rt),ue=v(rt,"DIV",{class:!0,"data-svelte-h":!0}),Ze(ue)!=="svelte-aqr4dt"&&(ue.innerHTML=de),rt.forEach(u),Ee=F(Pe),pe&&pe.l(Pe),Pe.forEach(u),Ye.forEach(u),me=F(m),ae&&ae.l(m),be=F(m),x(ve.$$.fragment,m),Be=F(m),x(ke.$$.fragment,m),Ue=F(m),x(De.$$.fragment,m),G=F(m),x(P.$$.fragment,m),this.h()},h(){p(y,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-50 dark:bg-gray-850"),p(I,"class","text-base font-lg text-gray-500 dark:text-gray-300"),p(i,"class","flex md:self-center text-xl items-center font-medium px-0.5"),p(r,"class","flex justify-between items-center"),p(E,"class","self-center ml-1 mr-3"),p(A,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-hidden bg-transparent"),p(A,"placeholder",C=s[14].t("Search Functions")),p(w,"class","flex flex-1"),p(H,"class","flex w-full space-x-2"),p(o,"class","flex flex-col gap-1 mt-1.5 mb-2"),p(re,"class","mb-5"),p(te,"id","documents-import-input"),p(te,"type","file"),p(te,"accept",".json"),te.hidden=!0,p(we,"class","self-center mr-2 font-medium line-clamp-1"),p(ue,"class","self-center"),p(fe,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),p(ie,"class","flex space-x-2"),p(K,"class","flex justify-end w-full mb-2")},m(m,L){T(m,n,L),j(t,m,L),T(m,a,L),T(m,o,L),c(o,r),c(r,i),c(i,$),c(i,D),c(i,y),c(i,V),c(i,I),c(I,f),c(o,d),c(o,H),c(H,w),c(w,E),j(B,E,null),c(w,R),c(w,A),it(A,s[0]),c(w,se),oe&&oe.m(w,null),c(H,ne),c(H,Q),j(q,Q,null),T(m,_e,L),T(m,re,L);for(let $e=0;$e<U.length;$e+=1)U[$e]&&U[$e].m(re,null);T(m,J,L),T(m,K,L),c(K,ie),c(ie,te),s[40](te),c(ie,Ve),c(ie,fe),c(fe,we),c(we,le),c(fe,X),c(fe,ue),c(ie,Ee),pe&&pe.m(ie,null),T(m,me,L),ae&&ae.m(m,L),T(m,be,L),j(ve,m,L),T(m,Be,L),j(ke,m,L),T(m,Ue,L),j(De,m,L),T(m,G,L),j(P,m,L),ye=!0,Me||(ht=[Ie(A,"input",s[25]),Ie(te,"change",s[41]),Ie(te,"change",s[42]),Ie(fe,"click",s[43])],Me=!0)},p(m,L){var Je,Ke,Xe,Ye;(!ye||L[0]&49152)&&e!==(e=`
		`+m[14].t("Functions")+" • "+m[15]+`
	`)&&(document.title=e);const $e={};!l&&L[0]&32&&(l=!0,$e.show=m[5],Te(()=>l=!1)),t.$set($e),(!ye||L[0]&16384)&&_!==(_=m[14].t("Functions")+"")&&Y($,_),(!ye||L[0]&2048)&&h!==(h=m[11].length+"")&&Y(f,h),(!ye||L[0]&16384&&C!==(C=m[14].t("Search Functions")))&&p(A,"placeholder",C),L[0]&1&&A.value!==m[0]&&it(A,m[0]),m[0]?oe?(oe.p(m,L),L[0]&1&&S(oe,1)):(oe=Tt(m),oe.c(),S(oe,1),oe.m(w,null)):oe&&(xe(),N(oe,1,1,()=>{oe=null}),je());const ze={};L[0]&32&&(ze.importFromLinkHandler=m[28]),L[1]&16777216&&(ze.$$scope={dirty:L,ctx:m}),q.$set(ze),L[0]&8159108&&(qe=Ct(m[11]),xe(),U=_n(U,L,_t,1,m,qe,ee,re,gn,Ut,null,Ft),je()),(!ye||L[0]&16384)&&ge!==(ge=m[14].t("Import Functions")+"")&&Y(le,ge),m[1].length?pe?pe.p(m,L):(pe=At(m),pe.c(),pe.m(ie,null)):pe&&(pe.d(1),pe=null),(Je=m[13])!=null&&Je.features.enable_community_sharing?ae?(ae.p(m,L),L[0]&8192&&S(ae,1)):(ae=Ot(m),ae.c(),S(ae,1),ae.m(be.parentNode,be)):ae&&(xe(),N(ae,1,1,()=>{ae=null}),je());const He={};L[0]&16384&&(He.title=m[14].t("Delete function?")),L[0]&16896|L[1]&16777216&&(He.$$scope={dirty:L,ctx:m}),!Le&&L[0]&1024&&(Le=!0,He.show=m[10],Te(()=>Le=!1)),ve.$set(He);const Ge={};L[0]&512&&(Ge.manifest=((Xe=(Ke=m[9])==null?void 0:Ke.meta)==null?void 0:Xe.manifest)??{}),!Se&&L[0]&128&&(Se=!0,Ge.show=m[7],Te(()=>Se=!1)),ke.$set(Ge);const Oe={};L[0]&512&&(Oe.id=((Ye=m[9])==null?void 0:Ye.id)??null),!b&&L[0]&256&&(b=!0,Oe.show=m[8],Te(()=>b=!1)),De.$set(Oe);const Fe={};L[0]&16384|L[1]&16777216&&(Fe.$$scope={dirty:L,ctx:m}),!he&&L[0]&64&&(he=!0,Fe.show=m[6],Te(()=>he=!1)),P.$set(Fe)},i(m){if(!ye){S(t.$$.fragment,m),S(B.$$.fragment,m),S(oe),S(q.$$.fragment,m);for(let L=0;L<qe.length;L+=1)S(U[L]);S(ae),S(ve.$$.fragment,m),S(ke.$$.fragment,m),S(De.$$.fragment,m),S(P.$$.fragment,m),ye=!0}},o(m){N(t.$$.fragment,m),N(B.$$.fragment,m),N(oe),N(q.$$.fragment,m);for(let L=0;L<U.length;L+=1)N(U[L]);N(ae),N(ve.$$.fragment,m),N(ke.$$.fragment,m),N(De.$$.fragment,m),N(P.$$.fragment,m),ye=!1},d(m){m&&(u(n),u(a),u(o),u(_e),u(re),u(J),u(K),u(me),u(be),u(Be),u(Ue),u(G)),z(t,m),z(B),oe&&oe.d(),z(q);for(let L=0;L<U.length;L+=1)U[L].d();s[40](null),pe&&pe.d(),ae&&ae.d(m),z(ve,m),z(ke,m),z(De,m),z(P,m),Me=!1,dt(ht)}}}const pl=()=>{};function _l(s,e,n){let t,l,a,o,r;Ae(s,on,b=>n(12,t=b)),Ae(s,an,b=>n(13,l=b)),Ae(s,Re,b=>n(1,o=b)),Ae(s,fn,b=>n(15,r=b));const{saveAs:i}=vn,_=ft("i18n");Ae(s,_,b=>n(14,a=b));let $=!1,D,y,V=!1,I=!1,h="",f=!1,d=!1,H=null,w=!1,E=[];const B=async b=>{const G=await ct(localStorage.token,b.id).catch(Me=>(ce.error(`${Me}`),null));ce.success(a.t("Redirecting you to Open WebUI Community"));const P="https://openwebui.com",he=await window.open(`${P}/functions/create`,"_blank"),ye=Me=>{Me.origin===P&&Me.data==="loaded"&&(he.postMessage(JSON.stringify(G),"*"),window.removeEventListener("message",ye))};window.addEventListener("message",ye,!1),console.log(G)},R=async b=>{const G=await ct(localStorage.token,b.id).catch(P=>(ce.error(`${P}`),null));G&&(sessionStorage.function=JSON.stringify({...G,id:`${G.id}_clone`,name:`${G.name} (Clone)`}),ot("/admin/functions/create"))},A=async b=>{const G=await ct(localStorage.token,b.id).catch(P=>(ce.error(`${P}`),null));if(G){let P=new Blob([JSON.stringify([G])],{type:"application/json"});i(P,`function-${G.id}-export-${Date.now()}.json`)}},C=async b=>{var P;await cn(localStorage.token,b.id).catch(he=>(ce.error(`${he}`),null))&&(ce.success(a.t("Function deleted successfully")),Re.set(await at(localStorage.token)),Qe.set(await et(localStorage.token,((P=l==null?void 0:l.features)==null?void 0:P.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))},se=async b=>{var P;await dn(localStorage.token,b.id).catch(he=>{ce.error(`${he}`)})&&(b.is_global?b.type==="filter"?ce.success(a.t("Filter is now globally enabled")):ce.success(a.t("Function is now globally enabled")):b.type==="filter"?ce.success(a.t("Filter is now globally disabled")):ce.success(a.t("Function is now globally disabled")),Re.set(await at(localStorage.token)),Qe.set(await et(localStorage.token,((P=l==null?void 0:l.features)==null?void 0:P.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null))))};Rt(()=>{const b=he=>{he.key==="Shift"&&n(2,$=!0)},G=he=>{he.key==="Shift"&&n(2,$=!1)},P=()=>{n(2,$=!1)};return window.addEventListener("keydown",b),window.addEventListener("keyup",G),window.addEventListener("blur-sm",P),()=>{window.removeEventListener("keydown",b),window.removeEventListener("keyup",G),window.removeEventListener("blur-sm",P)}});const ne=b=>{sessionStorage.function=JSON.stringify({...b}),ot("/admin/functions/create")};function Q(b){V=b,n(5,V)}function q(){h=this.value,n(0,h)}const _e=()=>{n(0,h="")},re=()=>{ot("/admin/functions/create")},U=()=>{n(5,V=!0)},ee=b=>{C(b)},J=b=>{n(9,H=b),n(7,f=!0)},K=b=>{n(9,H=b),n(8,d=!0)},ie=b=>{ot(`/admin/functions/edit?id=${encodeURIComponent(b.id)}`)},te=b=>{B(b)},Ve=b=>{R(b)},fe=b=>{A(b)},we=async b=>{n(9,H=b),n(10,w=!0)},ge=b=>{["filter","action"].includes(b.type)&&se(b)};function le(b,G){s.$$.not_equal(G.is_active,b)&&(G.is_active=b,n(11,E),n(1,o),n(0,h))}const X=async(b,G)=>{var P;mn(localStorage.token,b.id),Qe.set(await et(localStorage.token,((P=l==null?void 0:l.features)==null?void 0:P.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function ue(b){Ce[b?"unshift":"push"](()=>{D=b,n(3,D)})}function de(){y=this.files,n(4,y)}const Ee=()=>{console.log(y),n(6,I=!0)},me=()=>{D.click()},be=async()=>{const b=await hn(localStorage.token).catch(G=>(ce.error(`${G}`),null));if(b){let G=new Blob([JSON.stringify(b)],{type:"application/json"});i(G,`functions-export-${Date.now()}.json`)}};function ve(b){w=b,n(10,w)}const Le=()=>{C(H)};function Be(b){f=b,n(7,f)}function ke(b){d=b,n(8,d)}const Se=async()=>{var b;await rn(),Qe.set(await et(localStorage.token,((b=l==null?void 0:l.features)==null?void 0:b.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))};function Ue(b){I=b,n(6,I)}const De=()=>{const b=new FileReader;b.onload=async G=>{var he;const P=JSON.parse(G.target.result);console.log(P);for(const ye of P)await pn(localStorage.token,ye).catch(Me=>(ce.error(`${Me}`),null));ce.success(a.t("Functions imported successfully")),Re.set(await at(localStorage.token)),Qe.set(await et(localStorage.token,((he=l==null?void 0:l.features)==null?void 0:he.enable_direct_connections)&&((t==null?void 0:t.directConnections)??null)))},b.readAsText(y[0])};return s.$$.update=()=>{s.$$.dirty[0]&3&&n(11,E=o.filter(b=>h===""||b.name.toLowerCase().includes(h.toLowerCase())||b.id.toLowerCase().includes(h.toLowerCase())).sort((b,G)=>b.type.localeCompare(G.type)||b.name.localeCompare(G.name)))},[h,o,$,D,y,V,I,f,d,H,w,E,t,l,a,r,i,_,B,R,A,C,se,ne,Q,q,_e,re,U,ee,J,K,ie,te,Ve,fe,we,ge,le,X,ue,de,Ee,me,be,ve,Le,Be,ke,Se,Ue,De]}class gl extends lt{constructor(e){super(),st(this,e,_l,hl,nt,{},null,[-1,-1])}}function xt(s){let e,n;return e=new gl({}),{c(){O(e.$$.fragment)},l(t){x(e.$$.fragment,t)},m(t,l){j(e,t,l),n=!0},i(t){n||(S(e.$$.fragment,t),n=!0)},o(t){N(e.$$.fragment,t),n=!1},d(t){z(e,t)}}}function vl(s){let e,n,t=s[0]!==null&&xt();return{c(){t&&t.c(),e=Ht()},l(l){t&&t.l(l),e=Ht()},m(l,a){t&&t.m(l,a),T(l,e,a),n=!0},p(l,[a]){l[0]!==null?t?a&1&&S(t,1):(t=xt(),t.c(),S(t,1),t.m(e.parentNode,e)):t&&(xe(),N(t,1,1,()=>{t=null}),je())},i(l){n||(S(t),n=!0)},o(l){N(t),n=!1},d(l){l&&u(e),t&&t.d(l)}}}function $l(s,e,n){let t;return Ae(s,Re,l=>n(0,t=l)),Rt(async()=>{await Promise.all([(async()=>{Re.set(await at(localStorage.token))})()])}),[t]}class Yl extends lt{constructor(e){super(),st(this,e,$l,vl,nt,{})}}export{Yl as component};
//# sourceMappingURL=11.Bg7OvEHs.js.map
