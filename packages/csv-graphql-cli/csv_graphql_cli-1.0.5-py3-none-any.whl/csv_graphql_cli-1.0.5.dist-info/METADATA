Metadata-Version: 2.4
Name: csv-graphql-cli
Version: 1.0.5
Summary: ğŸ“ A beautiful CLI tool for ingesting CSV files into PostgreSQL and serving data via GraphQL
Author-email: Cory Janowski <coryjanowski@icloud.com>
Maintainer-email: Cory Janowski <coryjanowski@icloud.com>
License: MIT
Project-URL: Homepage, https://github.com/cjanowski/graphql-ingest
Project-URL: Documentation, https://github.com/cjanowski/graphql-ingest#readme
Project-URL: Repository, https://github.com/cjanowski/graphql-ingest
Project-URL: Bug Tracker, https://github.com/cjanowski/graphql-ingest/issues
Project-URL: Changelog, https://github.com/cjanowski/graphql-ingest/releases
Keywords: csv,postgresql,graphql,cli,data,ingestion,strawberry,fastapi,database,api,etl,pandas
Classifier: Development Status :: 5 - Production/Stable
Classifier: Intended Audience :: Developers
Classifier: Intended Audience :: Science/Research
Classifier: Intended Audience :: System Administrators
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Topic :: Database
Classifier: Topic :: Internet :: WWW/HTTP :: HTTP Servers
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Classifier: Topic :: System :: Systems Administration
Classifier: Topic :: Utilities
Classifier: Environment :: Console
Classifier: Environment :: Web Environment
Classifier: Operating System :: OS Independent
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: click>=8.1.7
Requires-Dist: pandas>=2.1.4
Requires-Dist: sqlalchemy>=2.0.23
Requires-Dist: psycopg2-binary>=2.9.9
Requires-Dist: strawberry-graphql>=0.216.1
Requires-Dist: uvicorn>=0.24.0
Requires-Dist: fastapi>=0.104.1
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: alembic>=1.13.1
Requires-Dist: requests>=2.31.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: flake8>=6.0.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: pre-commit>=3.0.0; extra == "dev"
Provides-Extra: test
Requires-Dist: pytest>=7.0.0; extra == "test"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "test"
Requires-Dist: pytest-cov>=4.0.0; extra == "test"
Provides-Extra: lint
Requires-Dist: black>=23.0.0; extra == "lint"
Requires-Dist: flake8>=6.0.0; extra == "lint"
Requires-Dist: mypy>=1.0.0; extra == "lint"
Provides-Extra: docs
Requires-Dist: sphinx>=7.0.0; extra == "docs"
Requires-Dist: sphinx-rtd-theme>=1.3.0; extra == "docs"
Provides-Extra: all
Requires-Dist: pytest>=7.0.0; extra == "all"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "all"
Requires-Dist: pytest-cov>=4.0.0; extra == "all"
Requires-Dist: black>=23.0.0; extra == "all"
Requires-Dist: flake8>=6.0.0; extra == "all"
Requires-Dist: mypy>=1.0.0; extra == "all"
Requires-Dist: pre-commit>=3.0.0; extra == "all"
Requires-Dist: sphinx>=7.0.0; extra == "all"
Requires-Dist: sphinx-rtd-theme>=1.3.0; extra == "all"
Dynamic: license-file

# ğŸ“ GraphQL CSV Ingest

<div align="center">

```
  ____                 _      ____  _        ____ ______     __  ___                 _   
 / ___|_ __ __ _ _ __ | |__  / __ \| |      / ___/ ___\ \   / / |_ _|_ __   __ _  __| |_ 
| |  _| '__/ _` | '_ \| '_ \| |  | | |     | |   \___ \\ \ / /   | || '_ \ / _` |/ _` (_)
| |_| | | | (_| | |_) | | | | |__| | |___  | |___ ___) |\ V /    | || | | | (_| | (_| |_ 
 \____|_|  \__,_| .__/|_| |_|\___\_\_____|  \____|____/  \_/    |___|_| |_|\__, |\__,_(_)
                |_|                                                         |___/        
```

**Transform your CSV data into powerful GraphQL APIs in minutes!**

[![PyPI version](https://img.shields.io/pypi/v/csv-graphql-cli.svg)](https://pypi.org/project/csv-graphql-cli/)
[![Python Version](https://img.shields.io/badge/python-3.9+-blue.svg)](https://python.org/downloads/)
[![PyPI downloads](https://img.shields.io/pypi/dm/csv-graphql-cli.svg)](https://pypi.org/project/csv-graphql-cli/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)

[ğŸ“– Documentation](docs/) â€¢ [ğŸš€ Quick Start](#-quick-start) â€¢ [ğŸ’» Examples](examples/) â€¢ [ğŸ¤ Contributing](CONTRIBUTE.md)

</div>

---

## âœ¨ Features

ğŸ”¥ **Professional Data Pipeline in Your Terminal**

- ğŸ“ **Beautiful CLI**: Fun ASCII art and colorful interface
- ğŸ“Š **Smart CSV Ingestion**: Automatic schema detection and type inference
- ğŸ˜ **PostgreSQL Integration**: Seamless database operations
- ğŸ” **GraphQL API**: Modern, flexible data querying
- ğŸš€ **FastAPI Server**: High-performance async web server
- ğŸ¯ **Multiple Entry Points**: Multiple CLI commands for convenience
- ğŸ› ï¸ **Developer Friendly**: Type hints, comprehensive error handling
- ğŸ“¦ **Easy Installation**: Available on PyPI with all dependencies

## ğŸš€ Quick Start

### Installation

```bash
# ğŸ‰ Install from PyPI (Recommended)
pip install csv-graphql-cli

# ğŸ”§ Or install in a virtual environment
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install csv-graphql-cli

# ğŸ› ï¸ Development installation from source
git clone https://github.com/cjanowski/graphql-ingest.git
cd graphql-ingest
pip install -e ".[dev]"
```

### Quick Start - Method 1: Using Installed Commands (Recommended)

After running `pip install csv-graphql-cli`:

```bash
# 1ï¸âƒ£ Show the main interface and available commands
csvgql

# 2ï¸âƒ£ Initialize database connection
csvgql init-db

# 3ï¸âƒ£ Ingest your CSV data
csvgql ingest -f data/sample_data.csv -t employees

# 4ï¸âƒ£ Preview your data
csvgql preview -t employees

# 5ï¸âƒ£ Start GraphQL server
csvgql serve

# 6ï¸âƒ£ Query at http://localhost:8000/graphql
```

### Quick Start - Method 2: Using Wrapper Script

Use the convenient wrapper script (`csvgql.py`) if you prefer not to install:

```bash
# Navigate to project directory
cd graphql-ingest

# 1ï¸âƒ£ Show the main interface and available commands
python csvgql.py

# 2ï¸âƒ£ Initialize database connection
python csvgql.py init-db

# 3ï¸âƒ£ Ingest your CSV data
python csvgql.py ingest -f data/sample_data.csv -t employees

# 4ï¸âƒ£ Preview your data
python csvgql.py preview -t employees

# 5ï¸âƒ£ Start GraphQL server
python csvgql.py serve

# 6ï¸âƒ£ Query at http://localhost:8000/graphql
```

### Quick Start - Method 3: Direct Module Usage

For development, you can also run directly from source:

```bash
# Navigate to project directory
cd graphql-ingest

# Run CLI directly from source
python -m src.cli

# Or individual commands
python -m src.cli init-db
python -m src.cli ingest -f data/sample_data.csv -t employees
python -m src.cli serve
```

## ğŸ¬ Demo

_Demo video coming soon - showing the CLI interface in action!_

<img width="603" alt="Screenshot 2025-05-26 at 7 56 13â€¯AM" src="https://github.com/user-attachments/assets/40354b0b-a234-49f0-86b7-1e70c0cd855d" />
<img width="604" alt="Screenshot 2025-05-26 at 8 19 37â€¯AM" src="https://github.com/user-attachments/assets/979fffdf-6180-4a22-bafb-822642a418e2" />
<img width="586" alt="Screenshot 2025-05-25 at 9 33 31â€¯PM" src="https://github.com/user-attachments/assets/7d24e284-02b1-4797-96f2-b06fbd6b100d" />
<img width="586" alt="Screenshot 2025-05-25 at 9 33 41â€¯PM" src="https://github.com/user-attachments/assets/61f7df72-867c-4970-858e-8f9acd0a6923" />
<img width="583" alt="Screenshot 2025-05-25 at 9 33 58â€¯PM" src="https://github.com/user-attachments/assets/d47ced3c-0ec2-4aa1-8cdf-e97f10948372" />
<img width="563" alt="Screenshot 2025-05-25 at 9 34 21â€¯PM" src="https://github.com/user-attachments/assets/ac607c4b-c6d1-46dc-bb54-aa2c4abcdbcb" />
<img width="582" alt="Screenshot 2025-05-25 at 9 34 44â€¯PM" src="https://github.com/user-attachments/assets/5ffdce9a-9901-4c74-a557-d0ed887216b7" />


## ğŸ“Š Example Workflow

```bash
# Using installed package (after pip install csv-graphql-cli)
csvgql                                    # Show main interface
csvgql init-db                           # Initialize database
csvgql ingest -f data.csv -t users       # Ingest CSV data
csvgql preview -t users                  # Preview the data
csvgql serve                             # Start GraphQL server

# OR using wrapper script (development)
python csvgql.py                         # Show main interface
python csvgql.py init-db                 # Initialize database
python csvgql.py ingest -f data.csv -t users  # Ingest CSV data
python csvgql.py preview -t users        # Preview the data
python csvgql.py serve                   # Start GraphQL server
```

## ğŸ”§ CLI Commands

### Method 1: Using Installed Package (Recommended)

After running `pip install csv-graphql-cli`:

```bash
csvgql                               # Show main interface
csvgql init-db                       # Initialize database
csvgql ingest -f data.csv -t table   # Ingest CSV
csvgql serve                         # Start GraphQL server
csvgql preview -t table              # Preview table data
csvgql tables                        # List tables
csvgql config-info                   # Show configuration
```

### Method 2: Using the Wrapper Script

If you prefer not to install the package:

```bash
# Navigate to project directory
cd graphql-ingest

# Use the wrapper script
python csvgql.py                    # Show main interface
python csvgql.py init-db            # Initialize database
python csvgql.py ingest -f data.csv -t table  # Ingest CSV
python csvgql.py serve              # Start GraphQL server
python csvgql.py preview -t table   # Preview table data
python csvgql.py tables             # List tables
python csvgql.py config-info        # Show configuration
```

### Method 3: Direct Module Execution (Development)

| Command | Description |
|---------|-------------|
| `python -m src.cli` | Main CLI interface |
| `python -m src.cli init-db` | Initialize database |
| `python -m src.cli ingest` | Ingest CSV files |
| `python -m src.cli serve` | Start GraphQL server |
| `python -m src.cli preview` | Preview table data |
| `python -m src.cli tables` | List available tables |
| `python -m src.cli config-info` | Show current configuration |

### All Available Commands Summary

| Method | Command | Description |
|--------|---------|-------------|
| **PyPI Package** | `csvgql` | Main CLI interface (shows all commands) |
| **PyPI Package** | `csvgql init-db` | Initialize database |
| **PyPI Package** | `csvgql ingest` | Ingest CSV files |
| **PyPI Package** | `csvgql serve` | Start GraphQL server |
| **PyPI Package** | `csvgql preview` | Preview table data |
| **PyPI Package** | `csvgql tables` | List available tables |
| **PyPI Package** | `csvgql config-info` | Show current configuration |
| **Development** | `python csvgql.py` | Main CLI interface |
| **Development** | `python csvgql.py init-db` | Initialize database |
| **Development** | `python -m src.cli` | Main CLI interface |
| **Development** | `python -m src.cli init-db` | Initialize database |

## ğŸ” GraphQL Queries

### List Tables
```graphql
{
  tables {
    name
    columns {
      name
      type
    }
  }
}
```

### Query Data
```graphql
{
  tableData(tableName: "employees", limit: 10) {
    data
    total
  }
}
```

### Ingest CSV via API
```graphql
mutation {
  ingestCsv(file: "new_data.csv", tableName: "products") {
    success
    message
    rowsInserted
  }
}
```

## ğŸ› ï¸ Configuration

Create `.env` file in the project root:

```bash
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=your_database
DB_USER=your_username
DB_PASSWORD=your_password

# Server Configuration  
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
DEBUG=false
```

You can also copy the example configuration:
```bash
cp config/env.example .env
```

## ğŸ“ Project Structure

```
graphql-ingest/
â”œâ”€â”€ ğŸ“¦ src/                    # Main application code
â”‚   â”œâ”€â”€ cli.py                 # Command-line interface
â”‚   â”œâ”€â”€ config.py              # Configuration management
â”‚   â”œâ”€â”€ database.py            # Database operations
â”‚   â”œâ”€â”€ graphql_schema.py      # GraphQL schema definition
â”‚   â””â”€â”€ server.py              # FastAPI server
â”œâ”€â”€ ğŸ§ª tests/                  # Test suite
â”‚   â”œâ”€â”€ test_basic.py          # Basic functionality tests
â”‚   â””â”€â”€ integration_test_examples.py
â”œâ”€â”€ ğŸ“‹ examples/               # Usage examples
â”œâ”€â”€ ğŸ“š docs/                   # Documentation
â”œâ”€â”€ ğŸ³ docker/                 # Docker configuration
â”œâ”€â”€ ğŸ“Š data/                   # Sample data files
â”‚   â”œâ”€â”€ sample_data.csv        # Test data
â”‚   â””â”€â”€ test_data_large.csv    # Larger test dataset
â”œâ”€â”€ âš™ï¸ config/                 # Configuration files
â”‚   â”œâ”€â”€ env.example            # Environment template
â”‚   â”œâ”€â”€ setup.cfg              # Setup configuration
â”‚   â””â”€â”€ MANIFEST.in            # Package manifest
â”œâ”€â”€ ğŸ› ï¸ tools/                  # Build and development tools
â”‚   â”œâ”€â”€ setup.py               # Package setup script
â”‚   â””â”€â”€ coverage.xml           # Coverage reports
â”œâ”€â”€ ğŸ™ .github/                # GitHub workflows
â”œâ”€â”€ ğŸ“‹ requirements/           # Dependency management
â”œâ”€â”€ ğŸ“„ CONTRIBUTE.md           # Contribution guidelines
â”œâ”€â”€ ğŸ“‹ CHANGELOG.md            # Change log
â”œâ”€â”€ ğŸš€ QUICKSTART.md           # Quick start guide
â””â”€â”€ ğŸ“– README.md               # Project overview
```

## ğŸ§ª Testing

### Setup Testing Environment
```bash
# Create virtual environment (recommended)
python3 -m venv venv
source venv/bin/activate

# Install with development dependencies
pip install -e ".[dev]"
```

### Run Tests
```bash
# Run all tests
pytest

# Run with coverage
pytest --cov=src

# Run with verbose output
pytest -v

# Run specific test file
pytest tests/test_basic.py
```

## ğŸ³ Docker Support

```bash
# Build and run with Docker
docker-compose up

# Or use the Dockerfile directly
docker build -t csv-graphql-cli .
docker run -p 8000:8000 csv-graphql-cli
```

## ğŸš€ Installation Options

### Option 1: Install from PyPI (Recommended) ğŸ‰
```bash
pip install csv-graphql-cli
```

### Option 2: Install in Virtual Environment
```bash
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install csv-graphql-cli
```

### Option 3: Development Setup
```bash
git clone https://github.com/cjanowski/graphql-ingest.git
cd graphql-ingest
pip install -e ".[dev]"
```

## ğŸ“‹ Requirements

- Python 3.9 or higher
- PostgreSQL database
- Modern terminal with Unicode support

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTE.md) for details.

## ğŸ“ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## ğŸ‰ Acknowledgments

- Built with [Strawberry GraphQL](https://strawberry.rocks/)
- Powered by [FastAPI](https://fastapi.tiangolo.com/)
- CLI beauty by [Click](https://click.palletsprojects.com/)
- Data processing by [Pandas](https://pandas.pydata.org/)

---

*Made with â¤ï¸ and lots of ğŸ“ğŸ“ğŸ“!* 
