Metadata-Version: 2.4
Name: llm-tool-fusion
Version: 0.2.0
Summary: Biblioteca Python que simplifica e unifica a definiÃ§Ã£o e chamada de ferramentas para grandes modelos de linguagem (LLMs). CompatÃ­vel com Ollama, LangChain, OpenAI e outros frameworks.
Home-page: https://github.com/caua1503/llm-tool-fusion
Author: Caua ramos
Author-email: cauamedinax@gmail.com
Requires-Python: >=3.12
Description-Content-Type: text/markdown
License-File: LICENSE
Dynamic: author
Dynamic: author-email
Dynamic: home-page
Dynamic: license-file

# llm-tool-fusion

[![Python](https://img.shields.io/badge/python->=3.12-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-0.1.0-orange.svg)](pyproject.toml)

## ğŸ‡§ğŸ‡· PortuguÃªs

### ğŸ“– DescriÃ§Ã£o

**llm-tool-fusion** Ã© uma biblioteca Python que simplifica e unifica a definiÃ§Ã£o e chamada de ferramentas para grandes modelos de linguagem (LLMs). CompatÃ­vel com frameworks populares que suportam tool calling, como Ollama, LangChain e OpenAI, ela permite integrar facilmente novas funÃ§Ãµes e mÃ³dulos, tornando o desenvolvimento de aplicativos avanÃ§ados de IA mais Ã¡gil e modular atraves de decoradores de funÃ§Ãµes.

### âœ¨ Principais Recursos

- ğŸ”§ **UnificaÃ§Ã£o de APIs**: Interface Ãºnica para diferentes frameworks de LLM
- ğŸš€ **IntegraÃ§Ã£o Simplificada**: Adicione novas ferramentas com facilidade
- ğŸ”— **Compatibilidade Ampla**: Suporte para Ollama, LangChain, OpenAI e outros
- ğŸ“¦ **Modularidade**: Arquitetura modular para desenvolvimento escalÃ¡vel
- âš¡ **Performance**: Otimizado para aplicaÃ§Ãµes em produÃ§Ã£o
- ğŸ“ **Menos Verbosidade**: Sintaxe simplificada para declaraÃ§Ã£o de funÃ§Ãµes
- ğŸ”„ **Processamento AutomÃ¡tico**: ExecuÃ§Ã£o automÃ¡tica de chamadas de ferramentas (opcional)

### ğŸš€ InstalaÃ§Ã£o

```bash
pip install llm-tool-fusion
```

### ğŸ“‹ Uso BÃ¡sico (Exemplo com OpenAI)

```python
from openai import OpenAI
from llm_tool_fusion import ToolCaller, process_tool_calls

# Inicializa o cliente OpenAI e o gerenciador de ferramentas
client = OpenAI()
manager = ToolCaller()

# Define uma ferramenta usando o decorador
@manager.tool
def calculate_price(price: float, discount: float) -> float:
    """
    Calcula o preÃ§o final com desconto
    
    Args:
        price (float): PreÃ§o base
        discount (float): Percentual de desconto
        
    Returns:
        float: PreÃ§o final com desconto
    """
    return price * (1 - discount / 100)

# Prepara a mensagem e faz a chamada ao LLM
messages = [
    {"role": "user", "content": "Calcule o preÃ§o final de um produto de R$100 com 20% de desconto"}
]

# Primeira chamada ao LLM
response = client.chat.completions.create(
    model="gpt-4",
    messages=messages,
    tools=manager.get_tools()
)

# Define a funÃ§Ã£o de chamada da IA
# Esta funÃ§Ã£o lambda permite compatibilidade com diferentes bibliotecas (OpenAI, Anthropic, etc)
# VocÃª pode adaptar esta funÃ§Ã£o para usar qualquer biblioteca que desejar
llm_call_fn = lambda model, messages, tools: client.chat.completions.create(
    model=model, 
    messages=messages, 
    tools=tools
)

# Processa a resposta automaticamente
final_response = process_tool_calls(
    response=response,
    messages=messages,
    async_tools_name=manager.get_name_async_tools(),
    available_tools=manager.get_map_tools(),
    model="gpt-4",
    llm_call_fn=llm_call_fn,
    tools=manager.get_tools(),
    verbose=True,
    verbose_time=True,
    clean_messages=True
)

print(final_response)
```

### ğŸ”„ Processamento de Chamadas

O llm-tool-fusion oferece um sistema robusto e simples para processar chamadas de ferramentas:

```python
# Processamento automÃ¡tico de chamadas
final_response = process_tool_calls(
    response=response,        # Resposta inicial do LLM
    messages=messages,        # HistÃ³rico de mensagens
    async_tools_name=manager.get_name_async_tools(),  # Nome das ferramentas assÃ­ncronas
    available_tools=manager.get_map_tools(),          # Mapa de ferramentas disponÃ­veis
    model="gpt-4",           # Modelo a ser usado
    llm_call_fn=llm_call_fn, # FunÃ§Ã£o de chamada ao LLM
    tools=manager.get_tools(),# Lista de ferramentas
    verbose=True,            # (opcional) Logs detalhados
    verbose_time=True,       # (opcional) MÃ©tricas de tempo
    clean_messages=True      # (opcional) Limpa mensagens apÃ³s processamento, nao e necessario .choices[0].message.content
)
```

#### âœ¨ CaracterÃ­sticas Principais

- ğŸ” **Ciclo AutomÃ¡tico**: Processa todas as chamadas de ferramentas atÃ© a conclusÃ£o
- âš¡ **Suporte AssÃ­ncrono**: Executa ferramentas sÃ­ncronas e assÃ­ncronas automaticamente
- ğŸ“ **Logs Inteligentes**: Acompanhe a execuÃ§Ã£o com logs detalhados e mÃ©tricas de tempo
- ğŸ›¡ï¸ **Tratamento de Erros**: Gerenciamento robusto de erros durante a execuÃ§Ã£o
- ğŸ’¬ **GestÃ£o de Contexto**: MantÃ©m o histÃ³rico de conversas organizado
- ğŸ”§ **ConfigurÃ¡vel**: Personalize o comportamento conforme sua necessidade

#### ğŸš€ VersÃ£o AssÃ­ncrona

Para aplicaÃ§Ãµes que precisam de processamento assÃ­ncrono:

```python
# Processamento assÃ­ncrono de chamadas
final_response = await process_tool_calls_async(
    response=response,
    messages=messages,
    # ... mesmos parÃ¢metros da versÃ£o sÃ­ncrona ...
)
```

### ğŸ”§ Frameworks Suportados

- **OpenAI** - API oficial e modelos GPT
- **LangChain** - Framework completo para aplicaÃ§Ãµes LLM
- **Ollama** - ExecuÃ§Ã£o local de modelos
- **Anthropic Claude** - API da Anthropic
- **E muito mais...**

### ğŸ¤ ContribuiÃ§Ã£o

ContribuiÃ§Ãµes sÃ£o bem-vindas! Por favor:

1. FaÃ§a um fork do projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudanÃ§as (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

### ğŸ“„ LicenÃ§a

Este projeto estÃ¡ licenciado sob a LicenÃ§a MIT - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## ğŸ‡ºğŸ‡¸ English

### ğŸ“– Description

**llm-tool-fusion** is a Python library that simplifies and unifies the definition and calling of tools for large language models (LLMs). Compatible with popular frameworks that support tool calling, such as Ollama, LangChain, and OpenAI, it allows you to easily integrate new functions and modules, making the development of advanced AI applications more agile and modular through function decorators.

### âœ¨ Key Features

- ğŸ”§ **API Unification**: Single interface for different LLM frameworks
- ğŸš€ **Simplified Integration**: Add new tools with ease
- ğŸ”— **Wide Compatibility**: Support for Ollama, LangChain, OpenAI, and others
- ğŸ“¦ **Modularity**: Modular architecture for scalable development
- âš¡ **Performance**: Optimized for production applications
- ğŸ“ **Less Verbosity**: Simplified syntax for function declarations
- ğŸ”„ **Automatic Processing**: Automatic execution of tool calls (optional)

### ğŸš€ Installation

```bash
pip install llm-tool-fusion
```

### ğŸ“‹ Basic Usage (Example with OpenAI)

```python
from openai import OpenAI
from llm_tool_fusion import ToolCaller, process_tool_calls

# Initialize OpenAI client and tool manager
client = OpenAI()
manager = ToolCaller()

# Define a tool using the decorator
@manager.tool
def calculate_price(price: float, discount: float) -> float:
    """
    Calculate final price with discount
    
    Args:
        price (float): Base price
        discount (float): Discount percentage
        
    Returns:
        float: Final price with discount
    """
    return price * (1 - discount / 100)

# Prepare message and make LLM call
messages = [
    {"role": "user", "content": "Calculate the final price of a $100 product with 20% discount"}
]

# First LLM call
response = client.chat.completions.create(
    model="gpt-4",
    messages=messages,
    tools=manager.get_tools()
)

# Define the AI call function
# This lambda function allows compatibility with different libraries (OpenAI, Anthropic, etc)
# You can adapt this function to use any library you want
llm_call_fn = lambda model, messages, tools: client.chat.completions.create(
    model=model, 
    messages=messages, 
    tools=tools
)

# Process response automatically
final_response = process_tool_calls(
    response=response,
    messages=messages,
    async_tools_name=manager.get_name_async_tools(),
    available_tools=manager.get_map_tools(),
    model="gpt-4",
    llm_call_fn=llm_call_fn,
    tools=manager.get_tools(),
    verbose=True,
    verbose_time=True,
    clean_messages=True
)

print(final_response)
```

### ğŸ”„ Processamento de Chamadas

llm-tool-fusion provides a robust and simple system for processing tool calls:

```python
# Automatic tool call processing
final_response = process_tool_calls(
    response=response,        # Initial response from the LLM
    messages=messages,        # Message history
    async_tools_name=manager.get_name_async_tools(),  # Names of asynchronous tools
    available_tools=manager.get_map_tools(),          # Map of available tools
    model="gpt-4",           # Model to be used
    llm_call_fn=llm_call_fn, # Function to call the LLM
    tools=manager.get_tools(),# List of tools
    verbose=True,            # (optional) Detailed logs
    verbose_time=True,       # (optional) Time metrics
    clean_messages=True      # (optional) Clears messages after processing, no .choices[0].message.content required
)
```

#### âœ¨ Main Features

- ğŸ” **Automatic Loop**: Processes all tool calls to completion
- âš¡ **Asynchronous Support**: Runs synchronous and asynchronous tools automatically
- ğŸ“ **Smart Logs**: Track execution with detailed logs and time metrics
- ğŸ›¡ï¸ **Error Handling**: Robust error management during execution
- ğŸ’¬ **Context Management**: Keeps conversation history organized
- ğŸ”§ **Configurable**: Customize behavior to your needs

#### ğŸš€ VersÃ£o AssÃ­ncrona

For applications that need asynchronous processing:

```python
# Asynchronous processing of tool calls
final_response = await process_tool_calls_async(
    response=response,
    messages=messages,
    # ... same parameters as the synchronous version ...
)
```

### ğŸ”§ Supported Frameworks

- **OpenAI** - Official API and GPT models
- **LangChain** - Complete framework for LLM applications
- **Ollama** - Local model execution
- **Anthropic Claude** - Anthropic's API
- **And many more...**

### ğŸ¤ Contributing

Contributions are welcome! Please:

1. Fork the project
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

### ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ› ï¸ Development

### Prerequisites

- Python >= 3.12
- pip or poetry for dependency management

### Setup Development Environment

```bash
# Clone the repository
git clone https://github.com/caua1503/llm-tool-fusion.git
cd llm-tool-fusion

# Install dependencies
pip install -e .

# Run tests
python -m pytest
```

### Project Structure

```
llm-tool-fusion/
â”œâ”€â”€ llm_tool_fusion/
â”‚   â””â”€â”€ __init__.py
|   â””â”€â”€ _core.py
|   â””â”€â”€ _utils.py
â”‚      
â”œâ”€â”€ tests/
â”œâ”€â”€ examples/
â”œâ”€â”€ pyproject.toml
â””â”€â”€ README.md
```

---

**â­ Se este projeto foi Ãºtil para vocÃª, considere dar uma estrela no GitHub!**

**â­ If this project was helpful to you, consider starring it on GitHub!**
