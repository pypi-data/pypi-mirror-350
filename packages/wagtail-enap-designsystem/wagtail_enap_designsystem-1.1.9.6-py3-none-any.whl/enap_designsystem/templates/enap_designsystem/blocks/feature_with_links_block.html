{% extends "enap_designsystem/base.html" %}
{% load wagtailimages_tags %}
{% load wagtailcore_tags wagtailimages_tags %}
{% block content %}


<div class="feature-list-full">
    <!-- Featured item (left side) -->
    <div class="feature-full-main">
        <div class="feature-full-main__inner">
            {% if value.featured_image %}
                {% image value.featured_image fill-800x600 class="feature-full-main__image" %}
            {% endif %}
            
            <div class="feature-full-main__overlay">
                <div class="feature-full-main__content">
                    <h2 class="feature-full-main__title">{{ value.featured_title }}</h2>
                    {% if value.featured_description %}
                    <div class="feature-full-main__description">
                        {{ value.featured_description }}
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Grid items (right/bottom side) -->
    <div class="feature-full-grid">
        <!-- Debug: Número de itens -->
        <!-- {{ value.list_items|length }} items -->
        
        {% if value.list_items %}
            {% for item in value.list_items %}
                <div class="feature-full-item {% if item.link %}feature-full-item--linked{% endif %}">
                    {% if item.link %}<a href="{{ item.link }}" class="feature-full-item">{% endif %}
                    
                    <div class="feature-full-item__media">
                        {% if item.image %}
                            {% image item.image fill-300x200 class="feature-full-item__image" %}
                        {% else %}
                            <div class="feature-full-item__placeholder"></div>
                        {% endif %}
                    </div>
                    
                    <div class="feature-full-item__content">
                        <h3 id="title-{{ forloop.counter }}" class="feature-full-item__title">{{ item.title }}</h3>
                        <div class="feature-full-item__description">
                            {{ item.description|richtext }}
                        </div>
                    </div>
                    
                    {% if item.link %}</a>{% endif %}
                </div>
            {% endfor %}
        {% else %}
            <!-- Fallback para quando não há itens -->
            <div class="feature-full-item feature-full-item--placeholder">
                <div class="feature-full-item__content">
                    <h3 class="feature-full-item__title">Item de exemplo</h3>
                    <div class="feature-full-item__description">
                        <p>Este é um item de exemplo. Adicione itens no painel de administração.</p>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>
</div>

{% endblock %}