#! Generated by VisualDCT v2.7.1-SNAPSHOT
#! DBDSTART
#! DBD("../../dbd/dlsPLC_vdct.dbd")
#! DBDEND


template() {

  #! InputMacro(sta_label7,"",2720,1940,16777215,1,true)
  #! InputMacro(sta_label6,"",2660,1920,16777215,1,true)
  #! InputMacro(sta_label5,"",2600,1900,16777215,1,true)
  #! InputMacro(sta_label4,"",2540,1880,16777215,1,true)
  #! InputMacro(sta_label3,"",2480,1860,16777215,1,true)
  #! InputMacro(sta_label2,"",2420,1840,16777215,1,true)
  #! InputMacro(sta_label1,"",2360,1820,16777215,1,true)
  #! InputMacro(sta_label0,"",2300,1800,16777215,1,true)
  #! InputMacro(sta_sv7,"",3200,2100,16777215,1,true)
  #! InputMacro(sta_sv6,"",3140,2080,16777215,1,true)
  #! InputMacro(sta_sv5,"",3080,2060,16777215,1,true)
  #! InputMacro(sta_sv4,"",3020,2040,16777215,1,true)
  #! InputMacro(sta_sv3,"",2960,2020,16777215,1,true)
  #! InputMacro(sta_sv2,"",2900,2000,16777215,1,true)
  #! InputMacro(sta_sv1,"",2840,1980,16777215,1,true)
  #! InputMacro(sta_sv0,"",2780,1960,16777215,1,true)
  #! InputMacro(donecalc,"",3600,1380,16777215,1,true)
  #! InputMacro(ilksta_sv7,"",4480,2040,16777215,1,true)
  #! InputMacro(ilksta_sv6,"",4420,2020,16777215,1,true)
  #! InputMacro(ilksta_sv5,"",4360,2000,16777215,1,true)
  #! InputMacro(ilksta_sv4,"",4300,1980,16777215,1,true)
  #! InputMacro(ilksta_sv3,"",4240,1960,16777215,1,true)
  #! InputMacro(ilksta_sv2,"",4180,1940,16777215,1,true)
  #! InputMacro(ilksta_sv1,"",4120,1920,16777215,1,true)
  #! InputMacro(ilksta_sv0,"",4060,1900,16777215,1,true)
  #! InputMacro(ilksta_label7,"",4000,1880,16777215,1,true)
  #! InputMacro(ilksta_label6,"",3940,1860,16777215,1,true)
  #! InputMacro(ilksta_label5,"",3880,1840,16777215,1,true)
  #! InputMacro(ilksta_label4,"",3820,1820,16777215,1,true)
  #! InputMacro(ilksta_label3,"",3760,1800,16777215,1,true)
  #! InputMacro(ilksta_label2,"",3700,1780,16777215,1,true)
  #! InputMacro(ilksta_label1,"",3640,1760,16777215,1,true)
  #! InputMacro(con_label7,"",3340,1140,16777215,1,true)
  #! InputMacro(ilksta_label0,"",3580,1740,16777215,1,true)
  #! InputMacro(con_label6,"",3300,1100,16777215,1,true)
  #! InputMacro(con_label5,"",3260,1060,16777215,1,true)
  #! InputMacro(con_label4,"",3220,1020,16777215,1,true)
  #! InputMacro(con_label3,"",3180,980,16777215,1,true)
  #! InputMacro(con_label2,"",3140,940,16777215,1,true)
  #! InputMacro(con_label1,"",3100,900,16777215,1,true)
  #! InputMacro(con_label0,"",3060,860,16777215,1,true)
  #! InputMacro(whylocked,"",1840,360,16777215,1,true)
}

# Arguments of VDCT hash bang Input Macro directive:
# (macro name, description, xpos, ypos, colour, defaultVisibility)
# ##############################################################################
# Control
# 
# % archiver 10 Monitor
# % controldesk Status scon
## Use this PV to request the valve to open or close
# The request will be checked by $(device):CALCCON
record(mbbo, "$(device):CON") {
  field(DESC, "Control")
  field(DTYP, "Soft Channel")
  field(ZRST, "$(con_label0)")
  field(ONST, "$(con_label1)")
  field(TWST, "$(con_label2)")
  field(THST, "$(con_label3)")
  field(FRST, "$(con_label4)")
  field(FVST, "$(con_label5)")
  field(SXST, "$(con_label6)")
  field(SVST, "$(con_label7)")
  field(VAL, "0")
  field(OUT, "$(device):CALCCON.A PP")
}

record(seq, "$(device):OPENSEQ") {
  field(LNK1, "$(device):CON PP")
  field(LNK2, "$(device):CON PP")
  field(DO1, "2")
  field(DO2, "0")
  field(DLY2, "1")
}

## If this PV is non-zero then an open request will be allowed by 
# $(device):CALCCON
record(bi, "$(device):OPENALLOWED") {
  field(DESC, "Allow/inhibit valve opening")
  field(INP, "$(allowpv=)")
  field(VAL, "1")
  field(ONAM, "Yes")
  field(ZNAM, "No")
}

record(stringout, "$(device):WHYLOCKED") {
  field(DESC, "Reason why device is locked")
  field(VAL, "$(whylocked)")
}

## Pass all requests through to the PLC unless it is an open request and 
# $(device):OPENALLOWED is zero
record(calcout, "$(device):CALCCON") {
  field(INPB, "$(device):OPENALLOWED")
  field(OUT, "$(device):ACTUALCON PP")
  field(CALC, "(B=0&A=0)?0:1")
  field(OOPT, "When Non-zero")
  field(DOPT, "Use OCAL")
  field(OCAL, "A")
}

## Send the request down to the PLC
record(ao, "$(device):ACTUALCON") {
  field(DESC, "Control")
  field(DTYP, "EtherIP")
  field(OUT, "@$(PORT) $(TAG).Control[$(TAGIDX)] S .2")
  field(PRIO, "HIGH")
  field(FLNK, "$(device):SETBUSY")
}

record(bi, "$(device):OPENING") {
  field(DESC, "Opening Valves")
  field(PINI, "YES")
  field(INP, "0")
  field(ONAM, "Opening")
}

record(calcout, "$(device):SETBUSY") {
  field(CALC, "1")
  field(OUT, "$(device):BUSY PP NMS")
  field(FLNK, "$(device):DONECALC")
}

record(calcout, "$(device):DONECALC") {
  field(INPA, "$(device):CON MS")
  field(INPB, "$(device):STA CPP MS")
  field(INPC, "$(device):ILKSTA CPP MS")
  field(INPD, "$(device):LASTCON CPP MS")
  field(CALC, "$(donecalc)")
  field(OOPT, "When Zero")
  field(DOPT, "Use CALC")
  field(OUT, "$(device):BUSY CA NMS")
}

# % archiver 10 Monitor
record(mbbi, "$(device):LASTCON") {
  field(DESC, "Control Readback")
  field(DTYP, "Soft Channel")
  field(ZRST, "$(con_label0)")
  field(ONST, "$(con_label1)")
  field(TWST, "$(con_label2)")
  field(THST, "$(con_label3)")
  field(FRST, "$(con_label4)")
  field(FVST, "$(con_label5)")
  field(SXST, "$(con_label6)")
  field(SVST, "$(con_label7)")
  field(INP, "$(device):LASTCON:INP")
}

# Necessary to have this extra record as mbbi does not work exactly as expected
record(ai, "$(device):LASTCON:INP") {
  field(DESC, "Control Readback Raw")
  field(DTYP, "EtherIP")
  field(INP, "@$(PORT) $(TAG).Last_Control[$(TAGIDX)]")
  field(SCAN, ".2 second")
  field(FLNK, "$(device):LASTCON")
}

# ###################################################################
# Interlock Status
# 
# % archiver 10 Monitor
# % controldesk Interlock Status smon
record(mbbi, "$(device):ILKSTA") {
  field(DESC, "Interlock Status")
  field(DTYP, "Soft Channel")
  field(ZRST, "$(ilksta_label0)")
  field(ONST, "$(ilksta_label1)")
  field(TWST, "$(ilksta_label2)")
  field(THST, "$(ilksta_label3)")
  field(FRST, "$(ilksta_label4)")
  field(FVST, "$(ilksta_label5)")
  field(SXST, "$(ilksta_label6)")
  field(SVST, "$(ilksta_label7)")
  field(ZRSV, "$(ilksta_sv0)")
  field(ONSV, "$(ilksta_sv1)")
  field(TWSV, "$(ilksta_sv2)")
  field(THSV, "$(ilksta_sv3)")
  field(FRSV, "$(ilksta_sv4)")
  field(FVSV, "$(ilksta_sv5)")
  field(SXSV, "$(ilksta_sv6)")
  field(SVSV, "$(ilksta_sv7)")
  field(NOBT, "3")
  field(INP, "$(device):ILKSTA:INP")
}

# Necessary to have this extra record as mbbi does not work exactly as expected
record(ai, "$(device):ILKSTA:INP") {
  field(DESC, "Interlock status")
  field(DTYP, "EtherIP")
  field(INP, "@$(PORT) $(TAG).ILK_Status[$(TAGIDX)]")
  field(SCAN, ".2 second")
  field(FLNK, "$(device):ILKSTA")
}

# #########################################################################
# Status
# 
# % archiver 10 Monitor
# % controldesk Status smon
# This makes the component icon reflect the status
# % gui, $(name=), sevr
record(mbbi, "$(device):STA") {
  field(DESC, "Status")
  field(DTYP, "Soft Channel")
  field(ZRST, "$(sta_label0)")
  field(ONST, "$(sta_label1)")
  field(TWST, "$(sta_label2)")
  field(THST, "$(sta_label3)")
  field(FRST, "$(sta_label4)")
  field(FVST, "$(sta_label5)")
  field(SXST, "$(sta_label6)")
  field(SVST, "$(sta_label7)")
  field(ZRSV, "$(sta_sv0)")
  field(ONSV, "$(sta_sv1)")
  field(TWSV, "$(sta_sv2)")
  field(THSV, "$(sta_sv3)")
  field(FRSV, "$(sta_sv4)")
  field(FVSV, "$(sta_sv5)")
  field(SXSV, "$(sta_sv6)")
  field(SVSV, "$(sta_sv7)")
  field(INP, "$(device):STA:INP")
}

# Necessary to have this extra record as mbbi does not work exactly as expected
record(ai, "$(device):STA:INP") {
  field(DESC, "Interlock status")
  field(DTYP, "EtherIP")
  field(INP, "@$(PORT) $(TAG).Status[$(TAGIDX)]")
  field(SCAN, ".2 second")
  field(FLNK, "$(device):STA")
}

# ############################################################################
# Number of Operations
# 
# % archiver 10 Monitor
# % controldesk Number of Operations readback
record(ai, "$(device):OPS") {
  field(DESC, "Operations")
  field(DTYP, "EtherIP")
  field(SCAN, "1 second")
  field(HOPR, "10000")
  field(LOPR, "0")
  field(HIHI, "10000")
  field(HIGH, "9000")
  field(LOW, "0")
  field(LOLO, "-1")
  field(HHSV, "MAJOR")
  field(HSV, "MINOR")
  field(LSV, "MINOR")
  field(LLSV, "MAJOR")
  field(INP, "@$(PORT) $(TAG).Operations_Count[$(TAGIDX)]")
}

# #########################################################################
# Mode Status (individual bits pulled off in each valve template
# The NOBT field specifies to reads 16 consecutive bits.
# The ether_ip B 0 flag in the INP field specifies to start at bit 0.
#
record(mbbiDirect, "$(device):MODSTA") {
  field(DESC, "Mode")
  field(DTYP, "EtherIP")
  field(SCAN, "1 second")
  field(INP, "@$(PORT) $(TAG).Service_Mode[$(TAGIDX)] B 0")
  field(NOBT, "16")
}

record(mbbi, "$(device):INTERFACE") {
  field(DTYP, "Soft Channel")
  field(INP, "$(device):INTERFACE:RAW")
  field(ZRST, "Valve with limit")
  field(ONST, "Valve without limit")
  field(TWST, "Bistable valve")
  field(THST, "Dual valve")
  field(FRST, "Butterfly valve")
  field(FVST, "Fast valve")
}

record(ai, "$(device):INTERFACE:RAW") {
  field(SCAN, "10 second")
  field(DTYP, "EtherIP")
  field(FLNK, "$(device):INTERFACE")
  field(INP, "@$(PORT) $(TAG).Interfc[$(TAGIDX)]")
}

record(busy, "$(device):BUSY") {
}

record(calcout, "$(device):MOVN") {
  field(DESC, "Is valve moving")
  field(DTYP, "Soft Channel")
  field(CALC, "A=2|A=4")
  field(INPA, "$(device):STA CP")
}

#! Further lines contain data used by VisualDCT
#! View(421,807,0.8)
#! Record("$(device):CON",3440,874,0,1,"$(device):CON")
#! Field("$(device):CON.OUT",16777215,0,"$(device):CON.OUT")
#! Link("$(device):CON.OUT","$(device):CALCCON.A")
#! Field("$(device):CON.VAL",16777215,1,"$(device):CON.VAL")
#! Field("$(device):CON.ZRST",16777215,0,"$(device):CON.ZRST")
#! Link("$(device):CON.ZRST",con_label0)
#! Field("$(device):CON.ONST",16777215,0,"$(device):CON.ONST")
#! Link("$(device):CON.ONST",con_label1)
#! Field("$(device):CON.TWST",16777215,0,"$(device):CON.TWST")
#! Link("$(device):CON.TWST",con_label2)
#! Field("$(device):CON.THST",16777215,0,"$(device):CON.THST")
#! Link("$(device):CON.THST",con_label3)
#! Field("$(device):CON.FRST",16777215,0,"$(device):CON.FRST")
#! Link("$(device):CON.FRST",con_label4)
#! Field("$(device):CON.FVST",16777215,0,"$(device):CON.FVST")
#! Link("$(device):CON.FVST",con_label5)
#! Field("$(device):CON.SXST",16777215,0,"$(device):CON.SXST")
#! Link("$(device):CON.SXST",con_label6)
#! Field("$(device):CON.SVST",16777215,0,"$(device):CON.SVST")
#! Link("$(device):CON.SVST",con_label7)
#! Record("$(device):OPENSEQ",3160,193,0,0,"$(device):OPENSEQ")
#! Field("$(device):OPENSEQ.LNK1",16777215,1,"$(device):OPENSEQ.LNK1")
#! Link("$(device):OPENSEQ.LNK1","$(device):CON.VAL")
#! Field("$(device):OPENSEQ.LNK2",16777215,1,"$(device):OPENSEQ.LNK2")
#! Link("$(device):OPENSEQ.LNK2","$(device):CON.VAL")
#! Record("$(device):OPENALLOWED",3440,533,0,1,"$(device):OPENALLOWED")
#! Field("$(device):OPENALLOWED.INP",16777215,1,"$(device):OPENALLOWED.INP")
#! Field("$(device):OPENALLOWED.VAL",16777215,0,"$(device):OPENALLOWED.VAL")
#! Record("$(device):WHYLOCKED",1580,315,0,1,"$(device):WHYLOCKED")
#! Field("$(device):WHYLOCKED.VAL",16777215,1,"$(device):WHYLOCKED.VAL")
#! Link("$(device):WHYLOCKED.VAL",whylocked)
#! Record("$(device):CALCCON",3160,539,0,1,"$(device):CALCCON")
#! Field("$(device):CALCCON.INPB",16777215,1,"$(device):CALCCON.INPB")
#! Link("$(device):CALCCON.INPB","$(device):OPENALLOWED.VAL")
#! Field("$(device):CALCCON.OUT",16777215,0,"$(device):CALCCON.OUT")
#! Link("$(device):CALCCON.OUT","$(device):ACTUALCON.VAL")
#! Field("$(device):CALCCON.A",16777215,1,"$(device):CALCCON.A")
#! Record("$(device):ACTUALCON",2900,553,0,1,"$(device):ACTUALCON")
#! Field("$(device):ACTUALCON.FLNK",16777215,0,"$(device):ACTUALCON.FLNK")
#! Link("$(device):ACTUALCON.FLNK","$(device):SETBUSY")
#! Field("$(device):ACTUALCON.VAL",16777215,0,"$(device):ACTUALCON.VAL")
#! Record("$(device):OPENING",1460,47,0,0,"$(device):OPENING")
#! Record("$(device):SETBUSY",2860,322,0,0,"$(device):SETBUSY")
#! Field("$(device):SETBUSY.OUT",16777215,1,"$(device):SETBUSY.OUT")
#! Link("$(device):SETBUSY.OUT","$(device):BUSY.VAL")
#! Field("$(device):SETBUSY.FLNK",16777215,1,"$(device):SETBUSY.FLNK")
#! Link("$(device):SETBUSY.FLNK","$(device):DONECALC")
#! Record("$(device):DONECALC",3940,1110,0,0,"$(device):DONECALC")
#! Field("$(device):DONECALC.INPA",16777215,0,"$(device):DONECALC.INPA")
#! Link("$(device):DONECALC.INPA","$(device):CON.VAL")
#! Field("$(device):DONECALC.INPB",16777215,0,"$(device):DONECALC.INPB")
#! Link("$(device):DONECALC.INPB","$(device):STA.VAL")
#! Field("$(device):DONECALC.INPC",16777215,0,"$(device):DONECALC.INPC")
#! Link("$(device):DONECALC.INPC","$(device):ILKSTA.VAL")
#! Field("$(device):DONECALC.INPD",16777215,0,"$(device):DONECALC.INPD")
#! Link("$(device):DONECALC.INPD","$(device):LASTCON.VAL")
#! Field("$(device):DONECALC.OUT",16777215,0,"$(device):DONECALC.OUT")
#! Link("$(device):DONECALC.OUT","$(device):BUSY.VAL")
#! Field("$(device):DONECALC.CALC",16777215,0,"$(device):DONECALC.CALC")
#! Link("$(device):DONECALC.CALC",donecalc)
#! Record("$(device):LASTCON",2720,889,0,0,"$(device):LASTCON")
#! Field("$(device):LASTCON.INP",16777215,0,"$(device):LASTCON.INP")
#! Link("$(device):LASTCON.INP","$(device):LASTCON:INP.VAL")
#! Field("$(device):LASTCON.VAL",16777215,1,"$(device):LASTCON.VAL")
#! Field("$(device):LASTCON.ZRST",16777215,1,"$(device):LASTCON.ZRST")
#! Link("$(device):LASTCON.ZRST",con_label0)
#! Field("$(device):LASTCON.ONST",16777215,1,"$(device):LASTCON.ONST")
#! Link("$(device):LASTCON.ONST",con_label1)
#! Field("$(device):LASTCON.TWST",16777215,1,"$(device):LASTCON.TWST")
#! Link("$(device):LASTCON.TWST",con_label2)
#! Field("$(device):LASTCON.THST",16777215,1,"$(device):LASTCON.THST")
#! Link("$(device):LASTCON.THST",con_label3)
#! Field("$(device):LASTCON.FRST",16777215,1,"$(device):LASTCON.FRST")
#! Link("$(device):LASTCON.FRST",con_label4)
#! Field("$(device):LASTCON.FVST",16777215,1,"$(device):LASTCON.FVST")
#! Link("$(device):LASTCON.FVST",con_label5)
#! Field("$(device):LASTCON.SXST",16777215,1,"$(device):LASTCON.SXST")
#! Link("$(device):LASTCON.SXST",con_label6)
#! Field("$(device):LASTCON.SVST",16777215,1,"$(device):LASTCON.SVST")
#! Link("$(device):LASTCON.SVST",con_label7)
#! Record("$(device):LASTCON:INP",2260,833,0,0,"$(device):LASTCON:INP")
#! Field("$(device):LASTCON:INP.VAL",16777215,1,"$(device):LASTCON:INP.VAL")
#! Field("$(device):LASTCON:INP.FLNK",16777215,1,"$(device):LASTCON:INP.FLNK")
#! Link("$(device):LASTCON:INP.FLNK","$(device):LASTCON")
#! Record("$(device):ILKSTA",3300,1442,0,0,"$(device):ILKSTA")
#! Field("$(device):ILKSTA.INP",16777215,0,"$(device):ILKSTA.INP")
#! Link("$(device):ILKSTA.INP","$(device):ILKSTA:INP.VAL")
#! Field("$(device):ILKSTA.VAL",16777215,1,"$(device):ILKSTA.VAL")
#! Field("$(device):ILKSTA.ZRST",16777215,1,"$(device):ILKSTA.ZRST")
#! Link("$(device):ILKSTA.ZRST",ilksta_label0)
#! Field("$(device):ILKSTA.ONST",16777215,1,"$(device):ILKSTA.ONST")
#! Link("$(device):ILKSTA.ONST",ilksta_label1)
#! Field("$(device):ILKSTA.TWST",16777215,1,"$(device):ILKSTA.TWST")
#! Link("$(device):ILKSTA.TWST",ilksta_label2)
#! Field("$(device):ILKSTA.THST",16777215,1,"$(device):ILKSTA.THST")
#! Link("$(device):ILKSTA.THST",ilksta_label3)
#! Field("$(device):ILKSTA.FRST",16777215,1,"$(device):ILKSTA.FRST")
#! Link("$(device):ILKSTA.FRST",ilksta_label4)
#! Field("$(device):ILKSTA.FVST",16777215,1,"$(device):ILKSTA.FVST")
#! Link("$(device):ILKSTA.FVST",ilksta_label5)
#! Field("$(device):ILKSTA.SXST",16777215,1,"$(device):ILKSTA.SXST")
#! Link("$(device):ILKSTA.SXST",ilksta_label6)
#! Field("$(device):ILKSTA.SVST",16777215,1,"$(device):ILKSTA.SVST")
#! Link("$(device):ILKSTA.SVST",ilksta_label7)
#! Field("$(device):ILKSTA.ZRSV",16777215,1,"$(device):ILKSTA.ZRSV")
#! Link("$(device):ILKSTA.ZRSV",ilksta_sv0)
#! Field("$(device):ILKSTA.ONSV",16777215,1,"$(device):ILKSTA.ONSV")
#! Link("$(device):ILKSTA.ONSV",ilksta_sv1)
#! Field("$(device):ILKSTA.TWSV",16777215,1,"$(device):ILKSTA.TWSV")
#! Link("$(device):ILKSTA.TWSV",ilksta_sv2)
#! Field("$(device):ILKSTA.THSV",16777215,1,"$(device):ILKSTA.THSV")
#! Link("$(device):ILKSTA.THSV",ilksta_sv3)
#! Field("$(device):ILKSTA.FRSV",16777215,1,"$(device):ILKSTA.FRSV")
#! Link("$(device):ILKSTA.FRSV",ilksta_sv4)
#! Field("$(device):ILKSTA.FVSV",16777215,1,"$(device):ILKSTA.FVSV")
#! Link("$(device):ILKSTA.FVSV",ilksta_sv5)
#! Field("$(device):ILKSTA.SXSV",16777215,1,"$(device):ILKSTA.SXSV")
#! Link("$(device):ILKSTA.SXSV",ilksta_sv6)
#! Field("$(device):ILKSTA.SVSV",16777215,1,"$(device):ILKSTA.SVSV")
#! Link("$(device):ILKSTA.SVSV",ilksta_sv7)
#! Record("$(device):ILKSTA:INP",2900,1453,0,0,"$(device):ILKSTA:INP")
#! Field("$(device):ILKSTA:INP.VAL",16777215,1,"$(device):ILKSTA:INP.VAL")
#! Field("$(device):ILKSTA:INP.FLNK",16777215,1,"$(device):ILKSTA:INP.FLNK")
#! Link("$(device):ILKSTA:INP.FLNK","$(device):ILKSTA")
#! Record("$(device):STA",2000,1477,0,0,"$(device):STA")
#! Field("$(device):STA.INP",16777215,0,"$(device):STA.INP")
#! Link("$(device):STA.INP","$(device):STA:INP.VAL")
#! Field("$(device):STA.VAL",16777215,1,"$(device):STA.VAL")
#! Field("$(device):STA.ZRST",16777215,1,"$(device):STA.ZRST")
#! Link("$(device):STA.ZRST",sta_label0)
#! Field("$(device):STA.ONST",16777215,1,"$(device):STA.ONST")
#! Link("$(device):STA.ONST",sta_label1)
#! Field("$(device):STA.TWST",16777215,1,"$(device):STA.TWST")
#! Link("$(device):STA.TWST",sta_label2)
#! Field("$(device):STA.THST",16777215,1,"$(device):STA.THST")
#! Link("$(device):STA.THST",sta_label3)
#! Field("$(device):STA.FRST",16777215,1,"$(device):STA.FRST")
#! Link("$(device):STA.FRST",sta_label4)
#! Field("$(device):STA.FVST",16777215,1,"$(device):STA.FVST")
#! Link("$(device):STA.FVST",sta_label5)
#! Field("$(device):STA.SXST",16777215,1,"$(device):STA.SXST")
#! Link("$(device):STA.SXST",sta_label6)
#! Field("$(device):STA.SVST",16777215,1,"$(device):STA.SVST")
#! Link("$(device):STA.SVST",sta_label7)
#! Field("$(device):STA.ZRSV",16777215,1,"$(device):STA.ZRSV")
#! Link("$(device):STA.ZRSV",sta_sv0)
#! Field("$(device):STA.ONSV",16777215,1,"$(device):STA.ONSV")
#! Link("$(device):STA.ONSV",sta_sv1)
#! Field("$(device):STA.TWSV",16777215,1,"$(device):STA.TWSV")
#! Link("$(device):STA.TWSV",sta_sv2)
#! Field("$(device):STA.THSV",16777215,1,"$(device):STA.THSV")
#! Link("$(device):STA.THSV",sta_sv3)
#! Field("$(device):STA.FRSV",16777215,1,"$(device):STA.FRSV")
#! Link("$(device):STA.FRSV",sta_sv4)
#! Field("$(device):STA.FVSV",16777215,1,"$(device):STA.FVSV")
#! Link("$(device):STA.FVSV",sta_sv5)
#! Field("$(device):STA.SXSV",16777215,1,"$(device):STA.SXSV")
#! Link("$(device):STA.SXSV",sta_sv6)
#! Field("$(device):STA.SVSV",16777215,1,"$(device):STA.SVSV")
#! Link("$(device):STA.SVSV",sta_sv7)
#! Record("$(device):STA:INP",1620,1473,0,0,"$(device):STA:INP")
#! Field("$(device):STA:INP.VAL",16777215,1,"$(device):STA:INP.VAL")
#! Field("$(device):STA:INP.FLNK",16777215,1,"$(device):STA:INP.FLNK")
#! Link("$(device):STA:INP.FLNK","$(device):STA")
#! Record("$(device):OPS",1580,487,0,1,"$(device):OPS")
#! Field("$(device):OPS.INP",16777215,1,"$(device):OPS.INP")
#! Record("$(device):MODSTA",1580,873,0,1,"$(device):MODSTA")
#! Field("$(device):MODSTA.INP",16777215,1,"$(device):MODSTA.INP")
#! Record("$(device):INTERFACE",1320,630,0,0,"$(device):INTERFACE")
#! Field("$(device):INTERFACE.INP",16777215,1,"$(device):INTERFACE.INP")
#! Link("$(device):INTERFACE.INP","$(device):INTERFACE:RAW.VAL")
#! Record("$(device):INTERFACE:RAW",1340,447,0,1,"$(device):INTERFACE:RAW")
#! Field("$(device):INTERFACE:RAW.FLNK",16777215,0,"$(device):INTERFACE:RAW.FLNK")
#! Link("$(device):INTERFACE:RAW.FLNK","$(device):INTERFACE")
#! Field("$(device):INTERFACE:RAW.VAL",16777215,1,"$(device):INTERFACE:RAW.VAL")
#! Record("$(device):BUSY",3640,363,0,1,"$(device):BUSY")
#! Field("$(device):BUSY.VAL",16777215,1,"$(device):BUSY.VAL")
#! TextBox(TB0,3100,2180,3520,2320,1,"Dialog",12,1,13408512,"These sta_label, sta_sv, ilksta_label and ilksta_sv macros are defined in NX102_valveCtrl.vdb VDCT file as mandatory macros (i.e. no default value is specified here), so that they can be expanded differently by different higher lever vdb files for different types of valves and devices.\n\nOnce expanded they can become optional macros with different default values appropriate for the device type including an empty default value.\n",null)
#! TextBox(TB3,1280,200,1560,380,1,"Dialog",12,1,13408512,"The PORT macro is not a port in the VDCT terminology sense, it is a VDCT macro.\nIt is the name of the EPICS communications port the PLC controlling the valve is on and becomes an EPICS macro as per usual in the .template file output by flatdb.\n\nA VDCT macro is considered input to a VDCT template definition, whereas a VDCT port is considered output from the lower level template to the higher level template definition.\nThere are so far none used in this file.\n",null)
#! TextBox(TB2,1920,300,2420,400,1,"Dialog",12,1,13408512,"The whylocked macro is mandatory here to allow valve and other device templates to expand it to become optional with different default values for the device once flatdb has been run.\nIt is preferable every .vdb file which expands this one should define an appropriate default message.\nIf it does not define it, the macro will remain mandatory in the resulting template file, which is not previously expected.",null)
#! TextBox(TB1,3160,760,3580,880,1,"Dialog",12,1,13408512,"The con_label macros are defined in NX102_valveCtrl.vdb VDCT file as mandatory macros (i.e. no default value is specified here), so that they can be expanded differently by different higher level vdb files for different types of valves and devices.\n\nOnce expanded they can become optional macros with different default values appropriate for the device type including an empty default value.\n",null)
#! Record("$(device):MOVN",1660,1807,0,1,"$(device):MOVN")
#! Field("$(device):MOVN.INPA",16777215,1,"$(device):MOVN.INPA")
#! Link("$(device):MOVN.INPA","$(device):STA.VAL")
