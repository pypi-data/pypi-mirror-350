#! Generated by VisualDCT v2.6
#! DBDSTART
#! DBD("../../dbd/dlsPLC_vdct.dbd")
#! DBDEND


################################################################################
# % archiver 10 Monitor
# % controldesk Gauge Interlock Status smon
record(mbbiDirect, "$(device):GILK") {
  field(DESC, "Gauge Interlocks")
  field(INP, "$(device):GETGILK MS")
}

record(subArray, "$(device):GETGILK") {
  field(DESC, "Get gauge interlocks")
  field(DTYP, "Soft Channel")
  field(FLNK, "$(device):GILK")
  field(FTVL, "USHORT")
  field(MALM, "100")
}

# gilk is in DM$(addr)+9. Calc the index into the 
# century record
record(calcout, "$(device):GILKINDX") {
  field(CALC, "$(addr)%100+9")
  field(OUT, "$(device):GETGILK.INDX PP")
  field(PINI, "YES")
}

# gilk is in DM$(addr)+9. Calc the inp link to the 
# century record. Needs to be done after PINI, so note
# the flnk
record(scalcout, "$(device):GILKINP") {
  field(CALC, "PRINTF(AA,FLOOR($(addr)/100))")
  field(AA, "$(vlvcc):DM%dXX CP MS")
  field(OUT, "$(device):GETGILK.INP CA")
  field(FLNK, "$(device):GILKINPDIS")
  field(SCAN, "1 second")
}

# Disable the scalcout record so we don't keep writing values
record(ao, "$(device):GILKINPDIS") {
  field(VAL, "1")
  field(OUT, "$(device):GILKINP.DISA")
}

################################################################################
#% archiver 10 Monitor
#% controldesk IMG Interlock Status smon
#
record(mbbiDirect, "$(device):IMGILK") {
  field(DESC, "IMG Interlocks")
  field(INP, "$(device):GETIMGILK MS")
}

record(subArray, "$(device):GETIMGILK") {
  field(DESC, "IMG Interlocks")
  field(DTYP, "Soft Channel")
  field(FLNK, "$(device):IMGILK")
  field(FTVL, "USHORT")
  field(INDX, "5")
  field(INP, "$(vlvcc):DM0XX CP MS")
  field(MALM, "100")
}

################################################################################
#% archiver 10 Monitor
#% controldesk Pirani Interlock Status smon
#
record(mbbiDirect, "$(device):PIRGILK") {
  field(DESC, "Pirani Interlocks")
  field(INP, "$(device):GETPIRGILK MS")
}

record(subArray, "$(device):GETPIRGILK") {
  field(DESC, "Pirani Interlocks")
  field(DTYP, "Soft Channel")
  field(FLNK, "$(device):PIRGILK")
  field(FTVL, "USHORT")
  field(INDX, "6")
  field(INP, "$(vlvcc):DM0XX CP MS")
  field(MALM, "100")
}

################################################################################
# Individual Gauge Interlocks
#
#% archiver 10 Monitor
record(mbbiDirect, "$(device):GAUGEILK") {
  field(DESC, "Combined Gauge Interlock")
  field(INP, "$(device):CALGILK MS")
}

record(calc, "$(device):CALGILK") {
  field(CALC, "A&B")
  field(FLNK, "$(device):GAUGEILK")
  field(INPA, "$(device):IMGILK CP MS")
  field(INPB, "$(device):PIRGILK CP MS")
}

record(bi, "$(device):GILK0") {
  field(DESC, "Gauge ILK 0")
  field(INP, "$(device):GAUGEILK.B0 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk0=unused)")
  field(ONAM, "$(gilk0=unused)")
}

record(bi, "$(device):GILK1") {
  field(DESC, "Gauge ILK 1")
  field(INP, "$(device):GAUGEILK.B1 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk1=unused)")
  field(ONAM, "$(gilk1=unused)")
}

record(bi, "$(device):GILK2") {
  field(DESC, "Gauge ILK 2")
  field(INP, "$(device):GAUGEILK.B2 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk2=unused)")
  field(ONAM, "$(gilk2=unused)")
}

record(bi, "$(device):GILK3") {
  field(DESC, "Gauge ILK 3")
  field(INP, "$(device):GAUGEILK.B3 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk3=unused)")
  field(ONAM, "$(gilk3=unused)")
}

record(bi, "$(device):GILK4") {
  field(DESC, "Gauge ILK 4")
  field(INP, "$(device):GAUGEILK.B4 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk4=unused)")
  field(ONAM, "$(gilk4=unused)")
}

record(bi, "$(device):GILK5") {
  field(DESC, "Gauge ILK 5")
  field(INP, "$(device):GAUGEILK.B5 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk5=unused)")
  field(ONAM, "$(gilk5=unused)")
}

record(bi, "$(device):GILK6") {
  field(DESC, "Gauge ILK 6")
  field(INP, "$(device):GAUGEILK.B6 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk6=unused)")
  field(ONAM, "$(gilk6=unused)")
}

record(bi, "$(device):GILK7") {
  field(DESC, "Gauge ILK 7")
  field(INP, "$(device):GAUGEILK.B7 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk7=unused)")
  field(ONAM, "$(gilk7=unused)")
}

record(bi, "$(device):GILK8") {
  field(DESC, "Gauge ILK 8")
  field(INP, "$(device):GAUGEILK.B8 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk8=unused)")
  field(ONAM, "$(gilk8=unused)")
}

record(bi, "$(device):GILK9") {
  field(DESC, "Gauge ILK 9")
  field(INP, "$(device):GAUGEILK.B9 CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk9=unused)")
  field(ONAM, "$(gilk9=unused)")
}

record(bi, "$(device):GILK10") {
  field(DESC, "Gauge ILK 10")
  field(INP, "$(device):GAUGEILK.BA CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk10=unused)")
  field(ONAM, "$(gilk10=unused)")
}

record(bi, "$(device):GILK11") {
  field(DESC, "Gauge ILK 11")
  field(INP, "$(device):GAUGEILK.BB CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk11=unused)")
  field(ONAM, "$(gilk11=unused)")
}

record(bi, "$(device):GILK12") {
  field(DESC, "Gauge ILK 12")
  field(INP, "$(device):GAUGEILK.BC CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk12=unused)")
  field(ONAM, "$(gilk12=unused)")
}

record(bi, "$(device):GILK13") {
  field(DESC, "Gauge ILK 13")
  field(INP, "$(device):GAUGEILK.BD CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk13=unused)")
  field(ONAM, "$(gilk13=unused)")
}

record(bi, "$(device):GILK14") {
  field(DESC, "Gauge ILK 14")
  field(INP, "$(device):GAUGEILK.BE CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk14=unused)")
  field(ONAM, "$(gilk14=unused)")
}

record(bi, "$(device):GILK15") {
  field(DESC, "Gauge ILK 15")
  field(INP, "$(device):GAUGEILK.BF CP MS")
  field(ZSV, "MAJOR")
  field(OSV, "NO_ALARM")
  field(ZNAM, "$(gilk15=unused)")
  field(ONAM, "$(gilk15=unused)")
}

#! Further lines contain data used by VisualDCT
#! View(392,3583,1.0)
#! Record("$(device):GILK",540,3616,0,0,"$(device):GILK")
#! Field("$(device):GILK.INP",16777215,1,"$(device):GILK.INP")
#! Link("$(device):GILK.INP","$(device):GETGILK.VAL")
#! Record("$(device):GETGILK",760,3614,0,0,"$(device):GETGILK")
#! Field("$(device):GETGILK.VAL",16777215,1,"$(device):GETGILK.VAL")
#! Field("$(device):GETGILK.FLNK",16777215,0,"$(device):GETGILK.FLNK")
#! Link("$(device):GETGILK.FLNK","$(device):GILK")
#! Field("$(device):GETGILK.INDX",16777215,0,"$(device):GETGILK.INDX")
#! Record("$(device):GILKINDX",1020,3682,0,0,"$(device):GILKINDX")
#! Field("$(device):GILKINDX.OUT",16777215,0,"$(device):GILKINDX.OUT")
#! Link("$(device):GILKINDX.OUT","$(device):GETGILK.INDX")
#! Record("$(device):GILKINP",1340,3614,0,0,"$(device):GILKINP")
#! Field("$(device):GILKINP.OUT",16777215,1,"$(device):GILKINP.OUT")
#! Field("$(device):GILKINP.FLNK",16777215,1,"$(device):GILKINP.FLNK")
#! Link("$(device):GILKINP.FLNK","$(device):GILKINPDIS")
#! Field("$(device):GILKINP.DISA",16777215,1,"$(device):GILKINP.DISA")
#! Record("$(device):GILKINPDIS",1620,3736,0,0,"$(device):GILKINPDIS")
#! Field("$(device):GILKINPDIS.OUT",16777215,0,"$(device):GILKINPDIS.OUT")
#! Link("$(device):GILKINPDIS.OUT","$(device):GILKINP.DISA")
#! Record("$(device):IMGILK",800,4136,0,0,"$(device):IMGILK")
#! Field("$(device):IMGILK.INP",16777215,1,"$(device):IMGILK.INP")
#! Link("$(device):IMGILK.INP","$(device):GETIMGILK.VAL")
#! Field("$(device):IMGILK.VAL",16777215,0,"$(device):IMGILK.VAL")
#! Record("$(device):GETIMGILK",860,3886,0,0,"$(device):GETIMGILK")
#! Field("$(device):GETIMGILK.VAL",16777215,1,"$(device):GETIMGILK.VAL")
#! Field("$(device):GETIMGILK.FLNK",16777215,0,"$(device):GETIMGILK.FLNK")
#! Link("$(device):GETIMGILK.FLNK","$(device):IMGILK")
#! Field("$(device):GETIMGILK.INP",16777215,1,"$(device):GETIMGILK.INP")
#! Record("$(device):PIRGILK",460,4456,0,0,"$(device):PIRGILK")
#! Field("$(device):PIRGILK.INP",16777215,1,"$(device):PIRGILK.INP")
#! Link("$(device):PIRGILK.INP","$(device):GETPIRGILK.VAL")
#! Field("$(device):PIRGILK.VAL",16777215,1,"$(device):PIRGILK.VAL")
#! Record("$(device):GETPIRGILK",480,4186,0,0,"$(device):GETPIRGILK")
#! Field("$(device):GETPIRGILK.VAL",16777215,1,"$(device):GETPIRGILK.VAL")
#! Field("$(device):GETPIRGILK.FLNK",16777215,0,"$(device):GETPIRGILK.FLNK")
#! Link("$(device):GETPIRGILK.FLNK","$(device):PIRGILK")
#! Field("$(device):GETPIRGILK.INP",16777215,1,"$(device):GETPIRGILK.INP")
#! Record("$(device):GAUGEILK",1160,4156,0,0,"$(device):GAUGEILK")
#! Field("$(device):GAUGEILK.INP",16777215,0,"$(device):GAUGEILK.INP")
#! Link("$(device):GAUGEILK.INP","$(device):CALGILK.VAL")
#! Field("$(device):GAUGEILK.B0",16777215,1,"$(device):GAUGEILK.B0")
#! Field("$(device):GAUGEILK.B1",16777215,1,"$(device):GAUGEILK.B1")
#! Field("$(device):GAUGEILK.B2",16777215,1,"$(device):GAUGEILK.B2")
#! Field("$(device):GAUGEILK.B3",16777215,1,"$(device):GAUGEILK.B3")
#! Field("$(device):GAUGEILK.B4",16777215,1,"$(device):GAUGEILK.B4")
#! Field("$(device):GAUGEILK.B5",16777215,1,"$(device):GAUGEILK.B5")
#! Field("$(device):GAUGEILK.B6",16777215,1,"$(device):GAUGEILK.B6")
#! Field("$(device):GAUGEILK.B7",16777215,1,"$(device):GAUGEILK.B7")
#! Field("$(device):GAUGEILK.B8",16777215,1,"$(device):GAUGEILK.B8")
#! Field("$(device):GAUGEILK.B9",16777215,1,"$(device):GAUGEILK.B9")
#! Field("$(device):GAUGEILK.BA",16777215,1,"$(device):GAUGEILK.BA")
#! Field("$(device):GAUGEILK.BB",16777215,1,"$(device):GAUGEILK.BB")
#! Field("$(device):GAUGEILK.BC",16777215,1,"$(device):GAUGEILK.BC")
#! Field("$(device):GAUGEILK.BD",16777215,1,"$(device):GAUGEILK.BD")
#! Field("$(device):GAUGEILK.BE",16777215,1,"$(device):GAUGEILK.BE")
#! Field("$(device):GAUGEILK.BF",16777215,1,"$(device):GAUGEILK.BF")
#! Record("$(device):CALGILK",840,4388,0,0,"$(device):CALGILK")
#! Field("$(device):CALGILK.VAL",16777215,1,"$(device):CALGILK.VAL")
#! Field("$(device):CALGILK.FLNK",16777215,1,"$(device):CALGILK.FLNK")
#! Link("$(device):CALGILK.FLNK","$(device):GAUGEILK")
#! Field("$(device):CALGILK.INPA",16777215,0,"$(device):CALGILK.INPA")
#! Link("$(device):CALGILK.INPA","$(device):IMGILK.VAL")
#! Field("$(device):CALGILK.INPB",16777215,0,"$(device):CALGILK.INPB")
#! Link("$(device):CALGILK.INPB","$(device):PIRGILK.VAL")
#! Record("$(device):GILK0",1460,4120,0,0,"$(device):GILK0")
#! Field("$(device):GILK0.INP",16777215,0,"$(device):GILK0.INP")
#! Link("$(device):GILK0.INP","$(device):GAUGEILK.B0")
#! Record("$(device):GILK1",1640,4140,0,0,"$(device):GILK1")
#! Field("$(device):GILK1.INP",16777215,0,"$(device):GILK1.INP")
#! Link("$(device):GILK1.INP","$(device):GAUGEILK.B1")
#! Record("$(device):GILK2",1820,4160,0,0,"$(device):GILK2")
#! Field("$(device):GILK2.INP",16777215,0,"$(device):GILK2.INP")
#! Link("$(device):GILK2.INP","$(device):GAUGEILK.B2")
#! Record("$(device):GILK3",2000,4180,0,0,"$(device):GILK3")
#! Field("$(device):GILK3.INP",16777215,0,"$(device):GILK3.INP")
#! Link("$(device):GILK3.INP","$(device):GAUGEILK.B3")
#! Record("$(device):GILK4",2180,4200,0,0,"$(device):GILK4")
#! Field("$(device):GILK4.INP",16777215,0,"$(device):GILK4.INP")
#! Link("$(device):GILK4.INP","$(device):GAUGEILK.B4")
#! Record("$(device):GILK5",2360,4220,0,0,"$(device):GILK5")
#! Field("$(device):GILK5.INP",16777215,0,"$(device):GILK5.INP")
#! Link("$(device):GILK5.INP","$(device):GAUGEILK.B5")
#! Record("$(device):GILK6",2540,4240,0,0,"$(device):GILK6")
#! Field("$(device):GILK6.INP",16777215,0,"$(device):GILK6.INP")
#! Link("$(device):GILK6.INP","$(device):GAUGEILK.B6")
#! Record("$(device):GILK7",2720,4260,0,0,"$(device):GILK7")
#! Field("$(device):GILK7.INP",16777215,0,"$(device):GILK7.INP")
#! Link("$(device):GILK7.INP","$(device):GAUGEILK.B7")
#! Record("$(device):GILK8",2900,4280,0,0,"$(device):GILK8")
#! Field("$(device):GILK8.INP",16777215,0,"$(device):GILK8.INP")
#! Link("$(device):GILK8.INP","$(device):GAUGEILK.B8")
#! Record("$(device):GILK9",3080,4300,0,0,"$(device):GILK9")
#! Field("$(device):GILK9.INP",16777215,0,"$(device):GILK9.INP")
#! Link("$(device):GILK9.INP","$(device):GAUGEILK.B9")
#! Record("$(device):GILK10",3260,4320,0,0,"$(device):GILK10")
#! Field("$(device):GILK10.INP",16777215,0,"$(device):GILK10.INP")
#! Link("$(device):GILK10.INP","$(device):GAUGEILK.BA")
#! Record("$(device):GILK11",3440,4340,0,0,"$(device):GILK11")
#! Field("$(device):GILK11.INP",16777215,0,"$(device):GILK11.INP")
#! Link("$(device):GILK11.INP","$(device):GAUGEILK.BB")
#! Record("$(device):GILK12",3620,4360,0,0,"$(device):GILK12")
#! Field("$(device):GILK12.INP",16777215,0,"$(device):GILK12.INP")
#! Link("$(device):GILK12.INP","$(device):GAUGEILK.BC")
#! Record("$(device):GILK13",3800,4380,0,0,"$(device):GILK13")
#! Field("$(device):GILK13.INP",16777215,0,"$(device):GILK13.INP")
#! Link("$(device):GILK13.INP","$(device):GAUGEILK.BD")
#! Record("$(device):GILK14",3980,4400,0,0,"$(device):GILK14")
#! Field("$(device):GILK14.INP",16777215,0,"$(device):GILK14.INP")
#! Link("$(device):GILK14.INP","$(device):GAUGEILK.BE")
#! Record("$(device):GILK15",4160,4420,0,0,"$(device):GILK15")
#! Field("$(device):GILK15.INP",16777215,0,"$(device):GILK15.INP")
#! Link("$(device):GILK15.INP","$(device):GAUGEILK.BF")
