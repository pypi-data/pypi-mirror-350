"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[9285],{3175:(e,t,n)=>{n.d(t,{Bo:()=>$,Gv:()=>d,Jp:()=>C,Kz:()=>g,LG:()=>k,N3:()=>w,P9:()=>S,SZ:()=>b,_W:()=>f,gd:()=>A,n4:()=>h,nC:()=>x,om:()=>v,pK:()=>p,qY:()=>y,qw:()=>m,tS:()=>N});var l=n(62952),o=n(78518),a=n(83307),r=n(67073),i=n(6308),s=n(2445),c=n(17437);const{Option:u}=a.default;function d(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function p(e){return d(e)&&"value"in e&&"label"in e}function f(e){return p(e)?e.value:e}function h(e,t,n){return(d(e)&&n in e?e[n]:e)==(d(t)&&n in t?t[n]:t)}function v(e,t,n=!1){return(0,l.A)(t).find((t=>h(t,e,"value")||n&&h(t,e,"label")))}function g(e,t,n=!1){return void 0!==v(e,t,n)}const m=e=>(t,n)=>{const l=t[e],o=n[e];return"string"==typeof l&&"string"==typeof o?l.localeCompare(o):"number"==typeof l&&"number"==typeof o?l-o:String(l).localeCompare(String(o))},b=(e,t,n)=>n&&void 0!==e.value&&void 0!==t.value?Number(g(t.value,n))-Number(g(e.value,n)):0,S=(e,t,n,l,o)=>l(e,t)||o(e,t,n),w=(e,t,n,l)=>n(e,t)||l(e,t,""),C=(e,t,n)=>e?(0,s.Y)(i.IO,{size:"small"}):t&&n?(0,s.Y)(r.F.SearchOutlined,{iconSize:"s"}):(0,s.Y)(r.F.DownOutlined,{iconSize:"s"}),A=(e,t,n,l,a,r,c)=>{var u,d;return t||null==(u=e.ref)||null==(d=u.current)||d.scrollTo({top:0}),n&&0===l?(0,s.Y)(i.Vg,{children:(0,o.t)("Loading...")}):r||(0,s.FD)(s.FK,{children:[a&&(0,s.Y)(i.tK,{role:"note",children:a}),e,c]})},y=(e,t,n,l)=>{if("function"==typeof l)return l(e,t);if(l){const l=e.trim().toLowerCase();if(null!=n&&n.length)return n.some((e=>(null!=t&&t[e]?String(t[e]).trim().toLowerCase():"").includes(l)))}return!1},x=e=>null==e?void 0:e.some((e=>!(null==e||!e.customLabel))),$=e=>e.map((e=>{const t="object"==typeof e,n=t?(null==e?void 0:e.label)||e.value:e,l=t?e.value:e,{customLabel:o,...a}=e;return(0,c.n)(u,{...a,key:l,label:n,value:l},t&&o?o:n)})),k=(e,t)=>t?e.map((e=>({key:e.value,value:e.value,label:e.label}))):e.map((e=>e.value)),N=e=>e.map((e=>({children:e.label,key:e.value,...e})))},6308:(e,t,n)=>{n.d(t,{EL:()=>f,IO:()=>h,Iu:()=>d,UX:()=>p,Vg:()=>v,Ws:()=>S,_A:()=>m,h9:()=>c,jQ:()=>b,rf:()=>u,tK:()=>g});var l=n(96453),o=n(67073),a=n(66270),r=n(428),i=n(83307),s=n(26526);const c=l.I4.span`
  ${({theme:e,headerPosition:t})=>`\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    margin-right: ${"left"===t?2*e.gridUnit:0}px;\n  `}
`,u=l.I4.div`
  ${({headerPosition:e})=>`\n    display: flex;\n    flex-direction: ${"top"===e?"column":"row"};\n    align-items: ${"left"===e?"center":void 0};\n    width: 100%;\n  `}
`,d=(0,l.I4)(i.default,{shouldForwardProp:e=>"headerPosition"!==e&&"oneLine"!==e})`
  ${({theme:e,headerPosition:t,oneLine:n})=>`\n    flex: ${"left"===t?1:0};\n    && .ant-select-selector {\n      border-radius: ${e.gridUnit}px;\n    }\n    // Open the dropdown when clicking on the suffix\n    // This is fixed in version 4.16\n    .ant-select-arrow .anticon:not(.ant-select-suffix) {\n      pointer-events: none;\n    }\n    ${n&&`\n        .ant-select-selection-overflow {\n          flex-wrap: nowrap;\n        }\n\n        .ant-select-selection-overflow-item:not(.ant-select-selection-overflow-item-rest):not(.ant-select-selection-overflow-item-suffix) {\n          flex-shrink: 1;\n          min-width: ${13*e.gridUnit}px;\n        }\n\n        .ant-select-selection-overflow-item-suffix {\n          flex: unset;\n          min-width: 0px;\n        }\n      `};\n `}
`,p=(l.I4.span`
  display: none;
`,(0,l.I4)(a.A)`
  ${({theme:e})=>`\n    background: ${e.colors.grayscale.light3};\n    font-size: ${e.typography.sizes.m}px;\n    border: none;\n  `}
`,(0,l.I4)(o.F.StopOutlined)`
  vertical-align: 0;
`),f=(0,l.I4)(o.F.CheckOutlined)`
  vertical-align: 0;
`,h=(0,l.I4)(r.A)`
  margin-top: ${({theme:e})=>-e.gridUnit}px;
`,v=l.I4.div`
  ${({theme:e})=>`\n   margin-left: ${3*e.gridUnit}px;\n   line-height: ${8*e.gridUnit}px;\n   color: ${e.colors.grayscale.light1};\n `}
`,g=l.I4.div`
  ${({theme:e})=>`\n   padding: ${2*e.gridUnit}px ${3*e.gridUnit}px;\n   color: ${e.colors.grayscale.base};\n   font-size: ${e.typography.sizes.s}px;\n   cursor: default;\n   border-bottom: 1px solid ${e.colors.grayscale.light2};\n `}
`,m=l.I4.div`
  ${({theme:e})=>`\n    display: flex;\n    justify-content: center;\n    align-items: flex-start;\n    width: 100%;\n    padding: ${2*e.gridUnit}px;\n    color: ${e.colors.error.base};\n    & svg {\n      margin-right: ${2*e.gridUnit}px;\n    }\n  `}
`,b=l.I4.div`
  overflow: hidden;
  text-overflow: ellipsis;
`,S=(0,l.I4)(s.$)`
  ${({theme:e})=>`\n    padding: ${e.gridUnit}px;\n    display: flex;\n    justify-content: center;\n    border-top: 1px solid ${e.colors.grayscale.light3};\n    .superset-button {\n      color: ${e.colors.primary.dark1};\n      font-weight: ${e.typography.weights.normal};\n    }\n    .superset-button:disabled {\n      background-color: transparent;\n    }\n  `}
`},14120:(e,t,n)=>{n.d(t,{yQ:()=>r,Ou:()=>i,X_:()=>a,GB:()=>l,hR:()=>o});const l=4,o=[",","\r\n","\n","\t",";"],a=[],r=100,i=(e,t,n)=>{let l,o;return"string"==typeof e.label&&"string"==typeof t.label?(l=e.label,o=t.label):"string"==typeof e.value&&"string"==typeof t.value&&(l=e.value,o=t.value),"string"==typeof l&&"string"==typeof o?n?function(e,t,n){const l=e.toLowerCase()||"",o=t.toLowerCase()||"",a=n.toLowerCase()||"";return n&&(Number(t===n)-Number(e===n)||Number(t.startsWith(n))-Number(e.startsWith(n))||Number(o===a)-Number(l===a)||Number(o.startsWith(a))-Number(l.startsWith(a))||Number(t.includes(n))-Number(e.includes(n))||Number(o.includes(a))-Number(e.includes(a)))||e.localeCompare(t)}(l,o,n):l.localeCompare(o):e.value-t.value}},15595:(e,t,n)=>{n.d(t,{$n:()=>a.A,BD:()=>m.A,DW:()=>o.A,EA:()=>d.A,PE:()=>c.A,PH:()=>f.A,Wq:()=>w.A,Zp:()=>r.A,_O:()=>g.A,_P:()=>C.A,f5:()=>S.A,f7:()=>h.A,fI:()=>u.A,fv:()=>i.A,l6:()=>l.A,o5:()=>v.A,vo:()=>b.A,vw:()=>p.A,xA:()=>s.Ay});var l=n(28990),o=n(49756),a=n(46920),r=n(91162),i=n(31736),s=n(81622),c=n(77598),u=n(84010),d=n(22246),p=n(20660),f=n(30639),h=n(3406),v=n(51504),g=n(72927),m=n(40080),b=n(940),S=n(77839),w=n(66121),C=n(36492)},16707:(e,t,n)=>{n.d(t,{A:()=>p,v:()=>d});var l=n(96453),o=n(71519),a=n(20660),r=n(96540),i=n(19129),s=n(67073),c=n(2445);const u=(0,l.I4)(a.A)`
  ${({theme:e})=>`\n  margin-top: ${e.gridUnit}px;\n  margin-bottom: ${e.gridUnit}px;\n  `};
`,d=(0,c.Y)(s.F.CloseOutlined,{iconSize:"xs",role:"button"}),p=({name:e,id:t,index:n,onDelete:l,editable:a=!1,onClick:s,toolTipTitle:p=e,children:f,...h})=>{const v=(0,r.useMemo)((()=>e.length>20),[e])?`${e.slice(0,20)}...`:e,g=s?t?"link":"button":void 0;return(0,c.Y)(c.FK,{children:a?(0,c.Y)(i.m_,{title:p,children:(0,c.Y)(u,{closable:a,onClose:()=>void 0!==n?null==l?void 0:l(n):null,closeIcon:a?d:void 0,...h,children:f||v},t)},p):(0,c.Y)(i.m_,{title:p,children:(0,c.FD)(u,{"data-test":"tag",onClick:s,role:g,...h,children:[" ",t?(0,c.Y)(o.N_,{to:`/superset/all_entities/?id=${t}`,target:"_blank",rel:"noreferrer",children:f||v}):f||v]},t)},p)})}},26526:(e,t,n)=>{n.d(t,{$:()=>a});var l=n(89516),o=n(2445);function a(e){return(0,o.Y)(l.A,{...e})}},27091:(e,t,n)=>{n.d(t,{S:()=>d});var l=n(66270),o=n(96453),a=n(37827),r=n(19129),i=n(16707),s=n(2445);const c=(0,o.I4)(l.A)`
  & .ant-tag-close-icon {
    display: inline-flex;
    align-items: center;
    margin-left: ${({theme:e})=>e.gridUnit}px;
  }

  & .tag-content {
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,u=e=>{const[t,n]=(0,a.A)();return(0,s.Y)(r.m_,{title:n?e.children:null,children:(0,s.Y)(c,{closeIcon:null!=e&&e.closable?i.v:void 0,...e,className:"ant-select-selection-item",children:(0,s.Y)("span",{className:"tag-content",ref:t,children:e.children})})})},d=e=>{const{label:t}=e;return(0,s.Y)(u,{onMouseDown:e=>{const t=e.target;("svg"===t.tagName||"path"===t.tagName||"span"===t.tagName&&t.className.includes("ant-tag-close-icon"))&&e.stopPropagation()},...e,children:t})}},28990:(e,t,n)=>{n.d(t,{A:()=>w});var l=n(63375),o=n.n(l),a=n(2404),r=n.n(a),i=n(38221),s=n.n(i),c=n(96540),u=n(78518),d=n(83505),p=n(62952),f=n(27023),h=n(3175),v=n(6308),g=n(14120),m=n(27091),b=n(46920),S=n(2445);const w=(0,c.forwardRef)((({className:e,allowClear:t,allowNewOptions:n=!1,allowSelectAll:l=!0,ariaLabel:a,autoClearSearchValue:i=!1,filterOption:w=!0,header:C=null,headerPosition:A="top",helperText:y,invertSelection:x=!1,labelInValue:$=!1,loading:k,mode:N="single",name:z,notFoundContent:I,onBlur:P,onChange:O,onClear:Y,onDropdownVisibleChange:_,onDeselect:D,onSearch:W,onSelect:E,optionFilterProps:L=["label","value"],options:K,placeholder:M=(0,u.t)("Select ..."),showSearch:F=!0,sortComparator:U=g.Ou,tokenSeparators:T=g.hR,value:V,getPopupContainer:R,oneLine:B,maxTagCount:G,...j},H)=>{const q="single"===N,X=!!n||F,[Z,Q]=(0,c.useState)(V),[J,ee]=(0,c.useState)(""),[te,ne]=(0,c.useState)(k),[le,oe]=(0,c.useState)(!1),[ae,re]=(0,c.useState)(!1),[ie,se]=(0,c.useState)([]),[ce,ue]=(0,c.useState)(null!=G?G:g.GB),[de,pe]=(0,c.useState)(0),fe=(0,d.Z)(de,0),he=(0,c.useCallback)((()=>pe(de+1)),[de]);(0,c.useEffect)((()=>{B&&ue(le?0:1)}),[le,B]);const ve=q?void 0:"multiple",ge=(0,c.useCallback)(((e,t)=>(0,h.SZ)(e,t,Z)),[Z]),me=(0,c.useCallback)(((e,t)=>(0,h.P9)(e,t,J,ge,U)),[J,U,ge]),be=(0,c.useMemo)((()=>Array.isArray(K)?K.slice():g.X_),[K]),Se=(0,c.useMemo)((()=>be.slice().sort(ge)),[be,ge]),[we,Ce]=(0,c.useState)(Se),Ae=(0,c.useMemo)((()=>{let e;we.some((e=>e.options))&&(e=we.reduce(((e,t)=>[...e,...t.options]),[]));const t=(0,p.A)(Z).filter((t=>!(0,h.Kz)((0,h._W)(t),e||we))).map((e=>(0,h.pK)(e)?e:{value:e,label:String(e)}));return(t.length>0?t.concat(we):we).slice().sort(ge)}),[we,Z,ge]),ye=(0,c.useMemo)((()=>ie.filter((e=>!e.disabled))),[ie]),xe=(0,c.useMemo)((()=>ie.filter((e=>((0,h.Kz)(e.value,Z)||!e.disabled)&&!e.isNewOption))),[ie,Z]),$e=(0,c.useMemo)((()=>!q&&l&&we.length>0&&ye.length>1),[q,l,we.length,ye.length]),ke=(0,c.useMemo)((()=>(0,p.A)(Z).length===xe.length+1),[Z,xe]),Ne=(0,c.useMemo)((()=>{const e=new Set((0,p.A)(Z).map(h._W));return ie.reduce(((t,n)=>{const l=e.has(n.value),o=n.disabled,a=n.isNewOption;return o&&!l||!(a&&l||!a)||(t.selectable+=1),l&&!o&&(t.deselectable+=1),t}),{selectable:0,deselectable:0})}),[ie,Z]),ze=(e,t)=>(0,h.qY)(e,t,L,w),Ie=s()((e=>{const t=e.trim();re(!!t);let l=we;if(n){const e=t&&!(0,h.Kz)(t,Ae,!0)&&{label:t,value:t,isNewOption:!0},n=(0,p.A)(Ae).filter((e=>!e.isNewOption||(0,h.Kz)(e.value,Z)));l=e?[e,...n]:n,Ce(l)}const o=l.filter((t=>ze(e,t)));se(o),ee(t),null==W||W(t)}),f.jW);(0,c.useEffect)((()=>()=>Ie.cancel()),[Ie]);const Pe=(0,c.useCallback)((()=>{if(q)return;const e=ae?ie.filter((e=>!e.isNewOption)):ye,t=(0,p.A)(Z),n=new Set(t.map(h._W)),l=[...t];e.forEach((e=>{e.disabled||n.has(e.value)||($?l.push({label:e.label,value:e.value}):l.push(e.value))})),Q(l),he()}),[q,ae,ie,ye,Z,$,he]),Oe=(0,c.useCallback)((()=>{if(q)return;const e=new Set(ye.map((e=>e.value))),t=(0,p.A)(Z).filter((t=>{const n=(0,h._W)(t);return!e.has(n)}));Q(t),he()}),[q,ye,Z,he]),Ye=(0,c.useMemo)((()=>(0,S.FD)(v.Ws,{className:"select-bulk-actions",size:0,children:[(0,S.Y)(b.A,{type:"link",buttonSize:"xsmall",disabled:0===Ne.selectable,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),Pe()},children:`${(0,u.t)("Select all")} (${Ne.selectable})`}),(0,S.Y)(b.A,{type:"link",buttonSize:"xsmall",disabled:0===Ne.deselectable,onMouseDown:e=>{e.preventDefault(),e.stopPropagation(),Oe()},children:`${(0,u.t)("Deselect all")} (${Ne.deselectable})`})]})),[Pe,Oe,Ne.selectable,Ne.deselectable]);(0,c.useEffect)((()=>{Ce(be),se(be)}),[be]),(0,c.useEffect)((()=>{void 0!==k&&k!==te&&ne(k)}),[te,k]),(0,c.useEffect)((()=>{Q(V)}),[V]);const _e=(0,c.useCallback)(((e,t)=>{let n=e,l=t;if(!q&&(0,p.A)(e).length===xe.length&&ke){const e=xe.filter((e=>(0,h.Kz)(e.value,Z)&&e.disabled));n=(0,h.LG)(e,$),l=(0,h.tS)(e)}null==O||O(n,l)}),[q,$,O,xe,ke,Z]);(0,c.useEffect)((()=>{if(de!==fe){const e=(0,p.A)(Z),t=new Set(e.map(h._W)),n=(0,h.tS)(Ae.filter((e=>t.has(e.value))));q?_e(Z,Z?n[0]:void 0):_e(e,n)}}),[Ae,_e,q,O,de,fe,Z]);const De=(0,c.useMemo)((()=>$e||(0,h.nC)(K)),[$e,K]),We=(0,c.useMemo)((()=>(0,p.A)(Z).length-ce-(ke?1:0)),[ce,ke,Z]);let Ee=ce;"responsive"!==Ee&&0===We&&ke&&(Ee-=1);const Le=(0,c.useCallback)((e=>{const t=(0,h.om)(e,Ae,!0);if(t||n){if($){const n={label:e,value:e};return t&&(n.label=(0,h.Gv)(t)?t.label:t,n.value=(0,h.Gv)(t)?t.value:t),n}return t?(0,h.Gv)(t)?t.value:t:e}}),[n,Ae,$]);return(0,S.FD)(v.rf,{className:e,headerPosition:A,children:[C&&(0,S.Y)(v.h9,{headerPosition:A,children:C}),(0,S.Y)(v.Iu,{id:z,allowClear:!te&&t,"aria-label":a,autoClearSearchValue:i,dropdownRender:e=>(0,h.gd)(e,le,te,Ae.length,y,void 0,$e?Ye:void 0),filterOption:ze,filterSort:me,getPopupContainer:R||(e=>e.parentNode),headerPosition:A,labelInValue:$,maxTagCount:Ee,maxTagPlaceholder:()=>`+ ${We>0?We:1} ...`,mode:ve,notFoundContent:te?(0,u.t)("Loading..."):I,onBlur:e=>{ee(""),null==P||P(e)},onDeselect:(e,t)=>{if(Array.isArray(Z)){const n=Z.filter((t=>(0,h._W)(t)!==(0,h._W)(e)));if(Q(n),t.isNewOption){const t=Ae.filter((t=>(0,h._W)(t.value)!==(0,h._W)(e)));Ce(t),se(t)}}he(),null==D||D(e,t)},onDropdownVisibleChange:e=>{oe(e),se(Ae),e&&!J&&we.length>1&&(r()(Se,we)||Ce(Se)),e||Ce(Se),_&&_(e)},onPaste:e=>{const t=e.clipboardData.getData("text");if(q){const e=Le(t);e&&Q(e)}else{const e=T.find((e=>t.includes(e))),l=e?o()(t.split(e)):[t],a=[],r=l.map((e=>{if(!(0,h.om)(e,Ae,!0)&&n){const t={label:e,value:e,isNewOption:!0};a.push(t)}return Le(e)})).filter((e=>void 0!==e));if(a.length>0){const e=[...Ae,...a];Ce(e),se(e)}Q((e=>[...e||[],...r]))}he()},onPopupScroll:void 0,onSearch:X?Ie:void 0,onSelect:(e,t)=>{if(q){const t=!(0,h.n4)(e,Z,"value");Q(e),t&&he()}else Q((t=>{const n=(0,p.A)(t),l=(0,h._W)(e);if(!(0,h.Kz)(l,n)){const t=[...n,e];return t.length===xe.length&&$e?((0,h.pK)(e),[...t]):t}return t})),he();null==E||E(e,t)},onClear:()=>{Q(q?void 0:Ae.filter((e=>e.disabled&&(0,h.Kz)(e.value,Z))).map((e=>$?{label:e.label,value:e.value}:e.value))),he(),Y&&Y()},placeholder:M,showSearch:X,showArrow:!0,tokenSeparators:T,value:Z,suffixIcon:(0,h.Jp)(te,X,le),menuItemSelectedIcon:x?(0,S.Y)(v.UX,{iconSize:"m","aria-label":"stop"}):(0,S.Y)(v.EL,{iconSize:"m","aria-label":"check"}),options:De?void 0:ie,oneLine:B,tagRender:m.S,...j,ref:H,children:De&&(0,h.Bo)(ie)})]})}))},37827:(e,t,n)=>{n.d(t,{A:()=>a,P:()=>o});var l=n(96540);const o={name:"l8l8b8",styles:"white-space:nowrap;overflow:hidden;text-overflow:ellipsis"},a=({isVertical:e,isHorizontal:t}={isVertical:!1,isHorizontal:!0})=>{const[n,o]=(0,l.useState)(!0),a=(0,l.useRef)(null),[r,i]=(0,l.useState)(0),[s,c]=(0,l.useState)(0),[u,d]=(0,l.useState)(0),[p,f]=(0,l.useState)(0);return(0,l.useEffect)((()=>{var e,t,n,l,o,r,s,u;i(null!=(e=null==(t=a.current)?void 0:t.offsetWidth)?e:0),c(null!=(n=null==(l=a.current)?void 0:l.scrollWidth)?n:0),d(null!=(o=null==(r=a.current)?void 0:r.offsetHeight)?o:0),f(null!=(s=null==(u=a.current)?void 0:u.scrollHeight)?s:0)})),(0,l.useEffect)((()=>{o(e&&u<p||t&&r<s)}),[r,s,u,p,e,t]),[a,n]}},49756:(e,t,n)=>{n.d(t,{A:()=>y});var l=n(63375),o=n.n(l),a=n(2404),r=n.n(a),i=n(38221),s=n.n(i),c=n(96540),u=n(78518),d=n(83505),p=n(62952),f=n(51436),h=n(67073),v=n(27023),g=n(3175),m=n(6308),b=n(14120),S=n(27091),w=n(2445);const C=({error:e})=>(0,w.FD)(m._A,{children:[(0,w.Y)(h.F.ExclamationCircleOutlined,{})," ",(0,w.Y)(m.jQ,{children:e})]}),A=(e,t,n)=>`${e};${t};${n}`,y=(0,c.forwardRef)((({allowClear:e,allowNewOptions:t=!1,ariaLabel:n,autoClearSearchValue:l=!1,fetchOnlyOnSearch:a,filterOption:i=!0,header:h=null,headerPosition:y="top",helperText:x,invertSelection:$=!1,lazyLoading:k=!0,loading:N,mode:z="single",name:I,notFoundContent:P,onBlur:O,onError:Y,onChange:_,onClear:D,onDropdownVisibleChange:W,onDeselect:E,onSearch:L,onSelect:K,optionFilterProps:M=["label","value"],options:F,pageSize:U=b.yQ,placeholder:T=(0,u.t)("Select ..."),showSearch:V=!0,sortComparator:R=b.Ou,tokenSeparators:B=b.hR,value:G,getPopupContainer:j,oneLine:H,maxTagCount:q,...X},Z)=>{const Q="single"===z,[J,ee]=(0,c.useState)(G),[te,ne]=(0,c.useState)(""),[le,oe]=(0,c.useState)(N),[ae,re]=(0,c.useState)(""),[ie,se]=(0,c.useState)(!1),[ce,ue]=(0,c.useState)(0),[de,pe]=(0,c.useState)(0),[fe,he]=(0,c.useState)(!k),[ve,ge]=(0,c.useState)(!1),me=(0,c.useRef)(J),be=(0,c.useRef)(new Map),Se=Q?void 0:"multiple",we=!a||te,[Ce,Ae]=(0,c.useState)(null!=q?q:b.GB),[ye,xe]=(0,c.useState)(0),$e=(0,d.Z)(ye,0),ke=(0,c.useCallback)((()=>xe(ye+1)),[ye]);(0,c.useEffect)((()=>{H&&Ae(ie?0:1)}),[ie,H]),(0,c.useEffect)((()=>{me.current=J}),[J]);const Ne=(0,c.useCallback)(((e,t)=>(0,g.SZ)(e,t,me.current)),[]),ze=(0,c.useCallback)(((e,t)=>(0,g.P9)(e,t,te,Ne,R)),[te,R,Ne]),Ie=(0,c.useCallback)(((e,t)=>(0,g.N3)(e,t,Ne,R)),[R,Ne]),[Pe,Oe]=(0,c.useState)(b.X_),Ye=(0,c.useMemo)((()=>{const e=(0,p.A)(J).filter((e=>!(0,g.Kz)((0,g._W)(e),Pe))).map((e=>(0,g.pK)(e)?e:{value:e,label:String(e)}));return e.length>0?e.concat(Pe):Pe}),[Pe,J]),_e=(0,c.useCallback)((e=>(0,f.h4)(e).then((e=>{const{error:t}=e;re(t),Y&&Y(t)}))),[Y]),De=(0,c.useCallback)((e=>{let t=[];if(e&&Array.isArray(e)&&e.length){const n=new Set(e.map((e=>e.value)));Oe((l=>(t=l.filter((e=>!n.has(e.value))).concat(e).sort(Ie),t)))}return t}),[Ie]),We=(0,c.useMemo)((()=>(e,t)=>{if(ue(t),ve)return void oe(!1);const n=A(e,t,U),l=be.current.get(n);if(void 0!==l)return pe(l),void oe(!1);oe(!0),F(e,t,U).then((({data:t,totalCount:l})=>{const o=De(t);be.current.set(n,l),pe(l),!a&&""===e&&o.length>=l&&ge(!0)})).catch(_e).finally((()=>{oe(!1)}))}),[ve,a,De,_e,F,U]),Ee=(0,c.useMemo)((()=>s()(We,v.Qs)),[We]),Le=s()((e=>{const n=e.trim();if(t){const e=n&&!(0,g.Kz)(n,Ye,!0)&&{label:n,value:n,isNewOption:!0},t=Ye.filter((e=>!e.isNewOption||(0,g.Kz)(e.value,J))),l=e?[e,...t]:t;Oe(l)}ve||!fe||be.current.has(A(n,0,U))||oe(!(a&&!n)),ne(e),null==L||L(n)}),v.jW);(0,c.useEffect)((()=>()=>Le.cancel()),[Le]),(0,c.useEffect)((()=>{if(ye!==$e){const e=(0,p.A)(J),t=new Set(e.map(g._W)),n=(0,g.tS)(Ye.filter((e=>t.has(e.value))));Q?null==_||_(J,n[0]):null==_||_(e,n)}}),[Ye,Q,_,ye,$e,J]),(0,c.useEffect)((()=>{be.current.clear(),ge(!1),Oe(b.X_)}),[F]),(0,c.useEffect)((()=>{ee(G)}),[G]),(0,c.useEffect)((()=>()=>{Ee.cancel()}),[Ee]),(0,c.useEffect)((()=>{fe&&we&&(te?Ee(te,0):We("",0))}),[fe,We,we,te,Ee]),(0,c.useEffect)((()=>{void 0!==N&&N!==le&&oe(N)}),[le,N]);const Ke=()=>be.current.clear();(0,c.useImperativeHandle)(Z,(()=>({...Z.current,clearCache:Ke})),[Z]);const Me=(0,c.useCallback)((async e=>{let n=(0,g.om)(e,Ye,!0);if(!n&&!ve){const t=F;n=await t(e,0,U).then((({data:t})=>t.find((t=>t.label===e))))}if(!n&&!t)return;const l={label:e,value:e};return n&&(l.label=(0,g.Gv)(n)?n.label:n,l.value=(0,g.Gv)(n)?n.value:n),l}),[ve,t,Ye,F,U]),Fe=(0,c.useMemo)((()=>(0,g.nC)(Ye)),[Ye]);return(0,w.FD)(m.rf,{headerPosition:y,children:[h&&(0,w.Y)(m.h9,{headerPosition:y,children:h}),(0,w.Y)(m.Iu,{allowClear:!le&&e,"aria-label":n||I,autoClearSearchValue:l,dropdownRender:e=>(0,g.gd)(e,ie,le,Ye.length,x,ae?(0,w.Y)(C,{error:ae}):void 0),filterOption:(e,t)=>(0,g.qY)(e,t,M,i),filterSort:ze,getPopupContainer:j||(e=>e.parentNode),headerPosition:y,labelInValue:!0,maxTagCount:Ce,mode:Se,notFoundContent:le?(0,u.t)("Loading..."):P,onBlur:e=>{ne(""),null==O||O(e)},onDeselect:(e,t)=>{Array.isArray(J)&&((0,g.pK)(e)?ee(J.filter((t=>t.value!==e.value))):ee(J.filter((t=>t!==e))),t.isNewOption&&Oe(Ye.filter((t=>(0,g._W)(t.value)!==(0,g._W)(e))))),ke(),null==E||E(e,t)},onDropdownVisibleChange:e=>{if(se(e),fe!==e&&he(e),!e&&le&&setTimeout((()=>{oe(!1)}),250),e&&!te&&Pe.length>1){const e=Pe.slice().sort(Ie);r()(e,Pe)||Oe(e)}W&&W(e)},onPaste:async e=>{const t=e.clipboardData.getData("text");if(Q){const e=await Me(t);e&&ee(e)}else{const e=B.find((e=>t.includes(e))),n=e?o()(t.split(e)):[t],l=(await Promise.all(n.map((e=>Me(e))))).filter((e=>void 0!==e));ee((e=>[...e||[],...l.filter((t=>!(0,g.Kz)(t.value,e)))]))}ke()},onPopupScroll:e=>{const t=e.currentTarget,n=t.scrollTop>.7*(t.scrollHeight-t.offsetHeight);!le&&ce*U+U<de&&n&&We(te,ce+1)},onSearch:V?Le:void 0,onSelect:(e,t)=>{if(Q){const t=!(0,g.n4)(e,J,"value");ee(e),t&&ke()}else ee((t=>{const n=(0,p.A)(t),l=(0,g._W)(e);if(!(0,g.Kz)(l,n)){const t=[...n,e];return(0,g.pK)(e),t}return t})),ke();null==K||K(e,t)},onClear:()=>{ee(void 0),D&&D(),ke()},options:Fe?void 0:Ye,placeholder:T,showSearch:V,showArrow:!0,tokenSeparators:B,value:J,suffixIcon:(0,g.Jp)(le,V,ie),menuItemSelectedIcon:$?(0,w.Y)(m.UX,{iconSize:"m","aria-label":"stop"}):(0,w.Y)(m.EL,{iconSize:"m","aria-label":"check"}),oneLine:H,tagRender:S.S,...X,ref:Z,children:(0,g.nC)(Ye)&&(0,g.Bo)(Ye)})]})}))},83505:(e,t,n)=>{n.d(t,{Z:()=>o});var l=n(96540);function o(e,t){const n=(0,l.useRef)(t);return(0,l.useEffect)((()=>{n.current=e}),[e]),n.current}},86523:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(77925);const o=(0,n(96453).I4)(l.A.Item)`
  ${({theme:e})=>`\n    .ant-form-item-label {\n      padding-bottom: ${e.gridUnit}px;\n      & > label {\n        font-size: ${e.typography.sizes.s}px;\n        color: ${e.colors.grayscale.base};\n\n        &.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n          &::before {\n            display: none;\n          }\n          &::after {\n            display: inline-block;\n            color: ${e.colors.error.base};\n            font-size: ${e.typography.sizes.s}px;\n            content: '*';\n          }\n        }\n      }\n    }\n  `}
`},91162:(e,t,n)=>{n.d(t,{A:()=>a});var l=n(83958),o=n(2445);const a=Object.assign((({padded:e,...t})=>(0,o.Y)(l.A,{...t,css:t=>({border:`1px solid ${t.colors.grayscale.light2}`,".antd5-card-body":{padding:e?4*t.gridUnit:t.gridUnit}})})),{Meta:l.A.Meta})}}]);