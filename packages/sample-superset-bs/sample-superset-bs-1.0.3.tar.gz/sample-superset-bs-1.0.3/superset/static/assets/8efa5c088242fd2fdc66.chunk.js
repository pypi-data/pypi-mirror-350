"use strict";(globalThis.webpackChunksuperset=globalThis.webpackChunksuperset||[]).push([[8334],{562:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(85861),i=a(46920),r=a(40563),s=a(96540),o=a(78518),l=a(2445);const c=function({show:e,onHide:t,title:a,onSave:c,children:d,initialValues:u={},formSubmitHandler:g,bodyStyle:m={},requiredFields:p=[]}){const[h]=r.lV.useForm(),[P,y]=(0,s.useState)(!1),b=(0,s.useCallback)((()=>{h.resetFields(),y(!1)}),[h]),[E,S]=(0,s.useState)(!0),f=(0,s.useCallback)((()=>{b(),t()}),[t,b]),v=(0,s.useCallback)((()=>{b(),c()}),[c,b]),A=(0,s.useCallback)((async e=>{try{y(!0),await g(e),v()}catch(e){console.error(e)}finally{y(!1)}}),[g,v]),I=()=>{const e=h.getFieldsError().some((({errors:e})=>e.length)),t=h.getFieldsValue(),a=p.some((e=>!t[e]));S(e||a)};return(0,l.Y)(n.Ay,{show:e,title:a,onHide:f,bodyStyle:m,footer:(0,l.FD)(l.FK,{children:[(0,l.Y)(i.A,{buttonStyle:"secondary","data-test":"modal-cancel-button",onClick:f,children:(0,o.t)("Cancel")}),(0,l.Y)(i.A,{buttonStyle:"primary",htmlType:"submit",onClick:()=>h.submit(),"data-test":"form-modal-save-button",disabled:P||E,children:P?(0,o.t)("Saving..."):(0,o.t)("Save")})]}),children:(0,l.Y)(r.lV,{form:h,layout:"vertical",onFinish:A,initialValues:u,onValuesChange:I,onFieldsChange:I,children:"function"==typeof d?d(h):d})})}},8960:(e,t,a)=>{var n=a(30327);t.createFirstEllipsis=function(e){return{type:n.ITEM_TYPES.ELLIPSIS,key:n.ITEM_KEYS.FIRST_ELLIPSIS,value:e,isActive:!1}},t.createSecondEllipsis=function(e){return{type:n.ITEM_TYPES.ELLIPSIS,key:n.ITEM_KEYS.SECOND_ELLIPSIS,value:e,isActive:!1}},t.createFirstPageLink=function(e){var t=e.currentPage;return{type:n.ITEM_TYPES.FIRST_PAGE_LINK,key:n.ITEM_KEYS.FIRST_PAGE_LINK,value:1,isActive:1===t}},t.createPreviousPageLink=function(e){var t=e.currentPage;return{type:n.ITEM_TYPES.PREVIOUS_PAGE_LINK,key:n.ITEM_KEYS.PREVIOUS_PAGE_LINK,value:Math.max(1,t-1),isActive:1===t}},t.createNextPageLink=function(e){var t=e.currentPage,a=e.totalPages;return{type:n.ITEM_TYPES.NEXT_PAGE_LINK,key:n.ITEM_KEYS.NEXT_PAGE_LINK,value:Math.min(a,t+1),isActive:t===a}},t.createLastPageLink=function(e){var t=e.currentPage,a=e.totalPages;return{type:n.ITEM_TYPES.LAST_PAGE_LINK,key:n.ITEM_KEYS.LAST_PAGE_LINK,value:a,isActive:t===a}},t.createPageFunctionFactory=function(e){var t=e.currentPage;return function(e){return{type:n.ITEM_TYPES.PAGE,key:e,value:e,isActive:e===t}}}},11447:(e,t,a)=>{var n=a(17991),i=a(8960);t.getPaginationModel=function(e){if(null==e)throw new Error("getPaginationModel(): options object should be a passed");var t=Number(e.totalPages);if(isNaN(t))throw new Error("getPaginationModel(): totalPages should be a number");if(t<0)throw new Error("getPaginationModel(): totalPages shouldn't be a negative number");var a=Number(e.currentPage);if(isNaN(a))throw new Error("getPaginationModel(): currentPage should be a number");if(a<0)throw new Error("getPaginationModel(): currentPage shouldn't be a negative number");if(a>t)throw new Error("getPaginationModel(): currentPage shouldn't be greater than totalPages");var r=null==e.boundaryPagesRange?1:Number(e.boundaryPagesRange);if(isNaN(r))throw new Error("getPaginationModel(): boundaryPagesRange should be a number");if(r<0)throw new Error("getPaginationModel(): boundaryPagesRange shouldn't be a negative number");var s=null==e.siblingPagesRange?1:Number(e.siblingPagesRange);if(isNaN(s))throw new Error("getPaginationModel(): siblingPagesRange should be a number");if(s<0)throw new Error("getPaginationModel(): siblingPagesRange shouldn't be a negative number");var o=Boolean(e.hidePreviousAndNextPageLinks),l=Boolean(e.hideFirstAndLastPageLinks),c=Boolean(e.hideEllipsis),d=c?0:1,u=[],g=i.createPageFunctionFactory(e);if(l||u.push(i.createFirstPageLink(e)),o||u.push(i.createPreviousPageLink(e)),1+2*d+2*s+2*r>=t){var m=n.createRange(1,t).map(g);u.push.apply(u,m)}else{var p=r,h=n.createRange(1,p).map(g),P=t+1-r,y=t,b=n.createRange(P,y).map(g),E=Math.min(Math.max(a-s,p+d+1),P-d-2*s-1),S=E+2*s,f=n.createRange(E,S).map(g);if(u.push.apply(u,h),!c){var v=E-1,A=(v===p+1?g:i.createFirstEllipsis)(v);u.push(A)}if(u.push.apply(u,f),!c){var I=S+1,_=(I===P-1?g:i.createSecondEllipsis)(I);u.push(_)}u.push.apply(u,b)}return o||u.push(i.createNextPageLink(e)),l||u.push(i.createLastPageLink(e)),u};var r=a(30327);t.ITEM_TYPES=r.ITEM_TYPES,t.ITEM_KEYS=r.ITEM_KEYS},17991:(e,t)=>{t.createRange=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a}},18575:(e,t,a)=>{t.w$=t.uv=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=o(a(96540)),r=o(a(5556)),s=a(11447);function o(e){return e&&e.__esModule?e:{default:e}}t.uv=function(e){var t=e.itemTypeToComponent,a=e.WrapperComponent,o=void 0===a?"div":a,l=function(e){var a=e.currentPage,r=e.totalPages,l=e.boundaryPagesRange,c=e.siblingPagesRange,d=e.hideEllipsis,u=e.hidePreviousAndNextPageLinks,g=e.hideFirstAndLastPageLinks,m=e.onChange,p=e.disabled,h=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["currentPage","totalPages","boundaryPagesRange","siblingPagesRange","hideEllipsis","hidePreviousAndNextPageLinks","hideFirstAndLastPageLinks","onChange","disabled"]),P=(0,s.getPaginationModel)({currentPage:a,totalPages:r,boundaryPagesRange:l,siblingPagesRange:c,hideEllipsis:d,hidePreviousAndNextPageLinks:u,hideFirstAndLastPageLinks:g}),y=function(e,t,a){return function(r){var s,o,l,c=e[r.type],d=(o=(s=r).value,l=s.isDisabled,function(){!l&&a&&t!==o&&a(o)});return i.default.createElement(c,n({onClick:d},r))}}(t,a,m);return i.default.createElement(o,h,P.map((function(e){return y(n({},e,{isDisabled:!!p}))})))};return l.propTypes={currentPage:r.default.number.isRequired,totalPages:r.default.number.isRequired,boundaryPagesRange:r.default.number,siblingPagesRange:r.default.number,hideEllipsis:r.default.bool,hidePreviousAndNextPageLinks:r.default.bool,hideFirstAndLastPageLinks:r.default.bool,onChange:r.default.func,disabled:r.default.bool},l},t.w$=s.ITEM_TYPES},30327:(e,t)=>{t.ITEM_TYPES={PAGE:"PAGE",ELLIPSIS:"ELLIPSIS",FIRST_PAGE_LINK:"FIRST_PAGE_LINK",PREVIOUS_PAGE_LINK:"PREVIOUS_PAGE_LINK",NEXT_PAGE_LINK:"NEXT_PAGE_LINK",LAST_PAGE_LINK:"LAST_PAGE_LINK"},t.ITEM_KEYS={FIRST_ELLIPSIS:-1,SECOND_ELLIPSIS:-2,FIRST_PAGE_LINK:-3,PREVIOUS_PAGE_LINK:-4,NEXT_PAGE_LINK:-5,LAST_PAGE_LINK:-6}},50217:(e,t,a)=>{a.d(t,{A:()=>n.A,V:()=>n.V});var n=a(54016)},51383:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var n=a(96540),i=a(96453),r=a(78518),s=a(35742),o=a(17437),l=a(50500),c=a(5261),d=a(562);const u=async e=>s.A.post({endpoint:"/api/v1/security/roles/",jsonPayload:{name:e}}),g=async(e,t)=>s.A.post({endpoint:`/api/v1/security/roles/${e}/permissions`,jsonPayload:{permission_view_menu_ids:t}});var m=a(40563),p=a(28990),h=a(90868),P=a(2445);const y=()=>(0,P.Y)(m.eI,{name:"roleName",label:(0,r.t)("Role Name"),rules:[{required:!0,message:(0,r.t)("Role name is required")}],children:(0,P.Y)(h.pd,{name:"roleName","data-test":"role-name-input"})}),b=({permissions:e})=>(0,P.Y)(m.eI,{name:"rolePermissions",label:(0,r.t)("Permissions"),children:(0,P.Y)(p.A,{mode:"multiple",name:"rolePermissions",options:e.map((e=>({label:e.label,value:e.id}))),getPopupContainer:e=>e.closest(".antd5-modal-content"),"data-test":"permissions-select"})}),E=({users:e})=>(0,P.Y)(m.eI,{name:"roleUsers",label:(0,r.t)("Users"),children:(0,P.Y)(p.A,{mode:"multiple",name:"roleUsers",options:e.map((e=>({label:e.username,value:e.id}))),"data-test":"users-select"})}),S=function({show:e,onHide:t,onSave:a,permissions:n}){const{addDangerToast:i,addSuccessToast:s}=(0,c.Yf)();return(0,P.Y)(d.A,{show:e,onHide:t,title:(0,r.t)("Add Role"),onSave:a,formSubmitHandler:async e=>{try{var t;const{json:a}=await u(e.roleName);(null==(t=e.rolePermissions)?void 0:t.length)>0&&await g(a.id,e.rolePermissions),s((0,r.t)("Role was successfully created!"))}catch(e){throw i((0,r.t)("Error while adding role!")),e}},requiredFields:["roleName"],initialValues:{},children:(0,P.FD)(P.FK,{children:[(0,P.Y)(y,{}),(0,P.Y)(b,{permissions:n})]})})};var f=a(48327),v=a(50217);const A={edit:{key:"edit",name:(0,r.t)("Edit Role")},users:{key:"users",name:(0,r.t)("Users")}},I=[{accessor:"first_name",Header:"First Name"},{accessor:"last_name",Header:"Last Name"},{accessor:"username",Header:"User Name"},{accessor:"email",Header:"Email"},{accessor:"active",Header:"Is Active?",Cell:({cell:e})=>e.value?"Yes":"No"}],_=function({show:e,onHide:t,role:a,onSave:i,permissions:o,users:l}){const{id:u,name:m,permission_ids:p,user_ids:h}=a,[S,_]=(0,n.useState)(A.edit.key),{addDangerToast:T,addSuccessToast:w}=(0,c.Yf)(),L=l.filter((e=>null==e?void 0:e.roles.some((e=>e.id===u)))),N={roleName:m,rolePermissions:p,roleUsers:h};return(0,P.Y)(d.A,{show:e,onHide:t,title:(0,r.t)("Edit Role"),onSave:i,formSubmitHandler:async e=>{try{await(async(e,t)=>s.A.put({endpoint:`/api/v1/security/roles/${e}`,jsonPayload:{name:t}}))(u,e.roleName),await g(u,e.rolePermissions),await(async(e,t)=>s.A.put({endpoint:`/api/v1/security/roles/${e}/users`,jsonPayload:{user_ids:t}}))(u,e.roleUsers),w((0,r.t)("Role successfully updated!"))}catch(e){throw T((0,r.t)("Error while updating role!")),e}},initialValues:N,bodyStyle:{height:"400px"},requiredFields:["roleName"],children:(0,P.FD)(f.Ay,{activeKey:S,onChange:e=>_(e),children:[(0,P.Y)(f.Ay.TabPane,{tab:A.edit.name,forceRender:!0,children:(0,P.FD)(P.FK,{children:[(0,P.Y)(y,{}),(0,P.Y)(b,{permissions:o}),(0,P.Y)(E,{users:l})]})},A.edit.key),(0,P.Y)(f.Ay.TabPane,{tab:A.users.name,children:(0,P.Y)(v.A,{columns:I,data:L,emptyWrapperType:v.V.Small})},A.users.key)]})})},T=function({role:e,show:t,onHide:a,onSave:n}){const{name:i,permission_ids:s}=e,{addDangerToast:o,addSuccessToast:l}=(0,c.Yf)();return(0,P.Y)(d.A,{show:t,onHide:a,title:(0,r.t)("Duplicate role %(name)s",{name:i}),onSave:n,formSubmitHandler:async e=>{try{const{json:t}=await u(e.roleName);s.length>0&&await g(t.id,s),l((0,r.t)("Role was successfully duplicated!"))}catch(e){throw o((0,r.t)("Error while duplicating role!")),e}},requiredFields:["roleName"],initialValues:{},children:(0,P.Y)(y,{})})};var w,L=a(51713),N=a(83691),Y=a(43849),k=a(37020),R=a(63358),D=a(65256),F=a(67073);!function(e){e.ADD="add",e.EDIT="edit",e.DUPLICATE="duplicate"}(w||(w={}));const C=(0,c.Ay)((function({addDangerToast:e,addSuccessToast:t,user:a}){const c=(0,i.DP)(),{state:{loading:d,resourceCount:u,resourceCollection:g,bulkSelectEnabled:m},fetchData:p,refreshData:h,toggleBulkSelect:y}=(0,l.RU)("security/roles/search",(0,r.t)("Role"),e,!1),[b,E]=(0,n.useState)({edit:!1,add:!1,duplicate:!1}),f=e=>E((t=>({...t,[e]:!0}))),v=e=>E((t=>({...t,[e]:!1}))),[A,I]=(0,n.useState)(null),[C,M]=(0,n.useState)(null),[x,K]=(0,n.useState)([]),[$,H]=(0,n.useState)([]),[U,G]=(0,n.useState)({permissions:!0,users:!0}),O=(0,n.useMemo)((()=>(0,D.N6)(a)),[a]),V=(0,n.useCallback)((async()=>{try{const e=100,t=async t=>{const a=await s.A.get({endpoint:`api/v1/security/permissions-resources/?q=(page_size:${e},page:${t})`});return{count:a.json.count,results:a.json.result.map((({permission:e,view_menu:t,id:a})=>({label:`${e.name.replace(/_/g," ")} ${t.name.replace(/_/g," ")}`,value:`${e.name}__${t.name}`,id:a})))}},a=await t(0),n=a.count,i=a.results;if(i.length>=n)return void K(i);const r=Math.ceil(n/e),o=Array.from({length:r-1},((e,a)=>t(a+1))),l=await Promise.all(o);K([...i,...l.flatMap((e=>e.results))])}catch(t){e((0,r.t)("Error while fetching permissions"))}finally{G((e=>({...e,permissions:!1})))}}),[]),j=(0,n.useCallback)((async()=>{try{const e=100,t=async t=>(await s.A.get({endpoint:`api/v1/security/users/?q=(page_size:${e},page:${t})`})).json,a=await t(0),n=a.count,i=a.result;if(e>=n)return void H(i);const r=Math.ceil(n/e),o=Array.from({length:r-1},((e,a)=>t(a+1))),l=await Promise.all(o);H([...i,...l.flatMap((e=>e.result))])}catch(t){e((0,r.t)("Error while fetching users"))}finally{G((e=>({...e,users:!1})))}}),[]);(0,n.useEffect)((()=>{V()}),[V]),(0,n.useEffect)((()=>{j()}),[j]);const B=[{id:"name",desc:!0}],z=(0,n.useMemo)((()=>[{accessor:"name",Header:(0,r.t)("Name"),Cell:({row:{original:{name:e}}})=>(0,P.Y)("span",{children:e})},{accessor:"user_ids",Header:(0,r.t)("Users"),hidden:!0,Cell:({row:{original:e}})=>e.user_ids.join(", ")},{accessor:"permission_ids",Header:(0,r.t)("Permissions"),hidden:!0,Cell:({row:{original:e}})=>e.permission_ids.join(", ")},{Cell:({row:{original:e}})=>{const t=O?[{label:"role-list-edit-action",tooltip:(0,r.t)("Edit role"),placement:"bottom",icon:"EditOutlined",onClick:()=>{I(e),f(w.EDIT)}},{label:"role-list-duplicate-action",tooltip:(0,r.t)("Duplicate role"),placement:"bottom",icon:"CopyOutlined",onClick:()=>{I(e),f(w.DUPLICATE)}},{label:"role-list-delete-action",tooltip:(0,r.t)("Delete role"),placement:"bottom",icon:"DeleteOutlined",onClick:()=>M(e)}]:[];return(0,P.Y)(N.A,{actions:t})},Header:(0,r.t)("Actions"),id:"actions",disableSortBy:!0,hidden:!O,size:"xl"}]),[O]),q=[];O&&q.push({name:(0,P.FD)(P.FK,{children:[(0,P.Y)(F.F.PlusOutlined,{iconColor:c.colors.primary.light5,iconSize:"m",css:o.AH`
                margin: auto ${2*c.gridUnit}px auto 0;
                vertical-align: text-top;
              `}),(0,r.t)("Role")]}),buttonStyle:"primary",onClick:()=>{f(w.ADD)},loading:U.permissions,"data-test":"add-role-button"},{name:(0,r.t)("Bulk select"),onClick:y,buttonStyle:"secondary"});const W=(0,n.useMemo)((()=>[{Header:(0,r.t)("Name"),key:"name",id:"name",input:"search",operator:Y.t.Contains},{Header:(0,r.t)("Users"),key:"user_ids",id:"user_ids",input:"select",operator:Y.t.RelationOneMany,unfilteredLabel:(0,r.t)("All"),selects:null==$?void 0:$.map((e=>({label:e.username,value:e.id}))),loading:U.users},{Header:(0,r.t)("Permissions"),key:"permission_ids",id:"permission_ids",input:"select",operator:Y.t.RelationOneMany,unfilteredLabel:(0,r.t)("All"),selects:null==x?void 0:x.map((e=>({label:e.label,value:e.id}))),loading:U.permissions}]),[x,$,U.users,U.permissions]),X={title:(0,r.t)("No roles yet"),image:"filter-results.svg",...O&&{buttonAction:()=>{f(w.ADD)},buttonText:(0,P.FD)(P.FK,{children:[(0,P.Y)(F.F.PlusOutlined,{iconColor:c.colors.primary.light5,iconSize:"m",css:o.AH`
              margin: auto ${2*c.gridUnit}px auto 0;
              vertical-align: text-top;
            `}),(0,r.t)("Role")]})}};return(0,P.FD)(P.FK,{children:[(0,P.Y)(L.A,{name:(0,r.t)("List Roles"),buttons:q}),(0,P.Y)(S,{onHide:()=>v(w.ADD),show:b.add,onSave:()=>{h(),v(w.ADD)},permissions:x}),b.edit&&A&&(0,P.Y)(_,{role:A,show:b.edit,onHide:()=>v(w.EDIT),onSave:()=>{h(),v(w.EDIT),j()},permissions:x,users:$}),b.duplicate&&A&&(0,P.Y)(T,{role:A,show:b.duplicate,onHide:()=>v(w.DUPLICATE),onSave:()=>{h(),v(w.DUPLICATE)}}),C&&(0,P.Y)(k.A,{description:(0,r.t)("This action will permanently delete the role."),onConfirm:()=>{C&&(async({id:a,name:n})=>{try{await s.A.delete({endpoint:`/api/v1/security/roles/${a}`}),h(),M(null),t((0,r.t)("Deleted role: %s",n))}catch(t){e((0,r.t)("There was an issue deleting %s",n))}})(C)},onHide:()=>M(null),open:!0,title:(0,r.t)("Delete Role?")}),(0,P.Y)(R.A,{title:(0,r.t)("Please confirm"),description:(0,r.t)("Are you sure you want to delete the selected roles?"),onConfirm:async a=>{const n=[];await Promise.all(a.map((async t=>{try{await s.A.delete({endpoint:`api/v1/security/roles/${t.id}`}),n.push(t.name)}catch(a){e((0,r.t)("Error deleting %s",t.name))}}))),n.length>0&&t((0,r.t)("Deleted roles: %s",n.join(", "))),h()},children:a=>{const n=O?[{key:"delete",name:(0,r.t)("Delete"),onSelect:a,type:"danger"}]:[];return(0,P.Y)(Y.A,{className:"role-list-view",columns:z,count:u,data:g,fetchData:p,filters:W,initialSort:B,loading:d,pageSize:25,bulkActions:n,bulkSelectEnabled:m,disableBulkSelect:y,addDangerToast:e,addSuccessToast:t,emptyState:X,refreshData:h})}})]})}))},54016:(e,t,a)=>{a.d(t,{A:()=>b,V:()=>n});var n,i=a(2404),r=a.n(i),s=a(96540),o=a(96453),l=a(78518),c=a(32885),d=a(641),u=a(47251),g=a(73204),m=a(2445);!function(e){e.Default="Default",e.Small="Small"}(n||(n={}));const p=o.I4.div`
  margin: ${({theme:e})=>40*e.gridUnit}px 0;
`,h=o.I4.div`
  ${({scrollTable:e,theme:t})=>e&&`\n    flex: 1 1 auto;\n    margin-bottom: ${4*t.gridUnit}px;\n    overflow: auto;\n  `}

  .table-row {
    ${({theme:e,small:t})=>!t&&`height: ${11*e.gridUnit-1}px;`}

    .table-cell {
      ${({theme:e,small:t})=>t&&`\n        padding-top: ${e.gridUnit+1}px;\n        padding-bottom: ${e.gridUnit+1}px;\n        line-height: 1.45;\n      `}
    }
  }

  th[role='columnheader'] {
    z-index: 1;
    border-bottom: ${({theme:e})=>`${e.gridUnit-2}px solid ${e.colors.grayscale.light2}`};
    ${({small:e})=>e&&"padding-bottom: 0;"}
  }
`,P=o.I4.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: ${({theme:e})=>e.colors.grayscale.light5};

  ${({isPaginationSticky:e})=>e&&"\n        position: sticky;\n        bottom: 0;\n        left: 0;\n    "};

  .row-count-container {
    margin-top: ${({theme:e})=>2*e.gridUnit}px;
    color: ${({theme:e})=>e.colors.grayscale.base};
  }
`,y=({columns:e,data:t,pageSize:a,totalCount:i=t.length,initialPageIndex:o,initialSortBy:y=[],loading:b=!1,withPagination:E=!0,emptyWrapperType:S=n.Default,noDataText:f,showRowCount:v=!0,serverPagination:A=!1,columnsForWrapText:I,onServerPagination:_=()=>{},scrollTopOnPagination:T=!1,...w})=>{const L={pageSize:null!=a?a:10,pageIndex:null!=o?o:0,sortBy:y},{getTableProps:N,getTableBodyProps:Y,headerGroups:k,page:R,rows:D,prepareRow:F,pageCount:C,gotoPage:M,state:{pageIndex:x,pageSize:K,sortBy:$}}=(0,c.useTable)({columns:e,data:t,initialState:L,manualPagination:A,manualSortBy:A,pageCount:Math.ceil(i/L.pageSize)},c.useFilters,c.useSortBy,c.usePagination),H=E?R:D;let U;switch(S){case n.Small:U=({children:e})=>(0,m.Y)(m.FK,{children:e});break;case n.Default:default:U=({children:e})=>(0,m.Y)(p,{children:e})}const G=!b&&0===H.length,O=C>1&&E,V=(0,s.useRef)(null);return(0,s.useEffect)((()=>{A&&x!==L.pageIndex&&_({pageIndex:x})}),[x]),(0,s.useEffect)((()=>{A&&!r()($,L.sortBy)&&_({pageIndex:0,sortBy:$})}),[$]),(0,m.FD)(m.FK,{children:[(0,m.FD)(h,{...w,ref:V,children:[(0,m.Y)(g.A,{getTableProps:N,getTableBodyProps:Y,prepareRow:F,headerGroups:k,rows:H,columns:e,loading:b,columnsForWrapText:I}),G&&(0,m.Y)(U,{children:f?(0,m.Y)(d.S,{image:d.S.PRESENTED_IMAGE_SIMPLE,description:f}):(0,m.Y)(d.S,{image:d.S.PRESENTED_IMAGE_SIMPLE})})]}),O&&(0,m.FD)(P,{className:"pagination-container",isPaginationSticky:w.isPaginationSticky,children:[(0,m.Y)(u.A,{totalPages:C||0,currentPage:C?x+1:0,onChange:e=>(e=>{var t;T&&(null==V||null==(t=V.current)||t.scroll(0,0)),M(e)})(e-1),hideFirstAndLastPageLinks:!0}),v&&(0,m.Y)("div",{className:"row-count-container",children:!b&&(0,l.t)("%s-%s of %s",K*x+(R.length&&1),K*x+R.length,i)})]})]})},b=(0,s.memo)(y)},83691:(e,t,a)=>{a.d(t,{A:()=>c});var n=a(96453),i=a(19129),r=a(67073),s=a(2445);const o=n.I4.span`
  white-space: nowrap;
  min-width: 100px;
  svg,
  i {
    margin-right: 8px;

    &:hover {
      path {
        fill: ${({theme:e})=>e.colors.primary.base};
      }
    }
  }
`,l=n.I4.span`
  color: ${({theme:e})=>e.colors.grayscale.base};
`;function c({actions:e}){return(0,s.Y)(o,{className:"actions",children:e.map(((e,t)=>{const a=r.F[e.icon];return e.tooltip?(0,s.Y)(i.m_,{id:`${e.label}-tooltip`,title:e.tooltip,placement:e.placement,children:(0,s.Y)(l,{role:"button",tabIndex:0,className:"action-button","data-test":e.label,onClick:e.onClick,children:(0,s.Y)(a,{iconSize:"l"})})},t):(0,s.Y)(l,{role:"button",tabIndex:0,className:"action-button",onClick:e.onClick,"data-test":e.label,children:(0,s.Y)(a,{})},t)}))})}}}]);