# This file is automatically generated, DO NOT EDIT
# fmt: off

import native.wpiutil._init_robotpy_native_wpiutil
import native.wpihal._init_robotpy_native_wpihal
import native.wpilib._init_robotpy_native_wpilib

def __load_library():
    from os.path import abspath, join, dirname, exists
    from ctypes import cdll

    libs = []
    root = abspath(dirname(__file__))

    lib_path = join(root, 'lib', 'CTRE_PhoenixCCISim.dll')

    try:
        libs.append(cdll.LoadLibrary(lib_path))
    except FileNotFoundError:
        if not exists(lib_path):
            raise FileNotFoundError("CTRE_PhoenixCCISim.dll was not found on your system. Is this package correctly installed?")
        raise Exception("CTRE_PhoenixCCISim.dll could not be loaded. Do you have Visual Studio C++ Redistributible installed?")

    lib_path = join(root, 'lib', 'CTRE_PhoenixSim.dll')

    try:
        libs.append(cdll.LoadLibrary(lib_path))
    except FileNotFoundError:
        if not exists(lib_path):
            raise FileNotFoundError("CTRE_PhoenixSim.dll was not found on your system. Is this package correctly installed?")
        raise Exception("CTRE_PhoenixSim.dll could not be loaded. Do you have Visual Studio C++ Redistributible installed?")

    lib_path = join(root, 'lib', 'CTRE_Phoenix_WPISim.dll')

    try:
        libs.append(cdll.LoadLibrary(lib_path))
    except FileNotFoundError:
        if not exists(lib_path):
            raise FileNotFoundError("CTRE_Phoenix_WPISim.dll was not found on your system. Is this package correctly installed?")
        raise Exception("CTRE_Phoenix_WPISim.dll could not be loaded. Do you have Visual Studio C++ Redistributible installed?")
    return libs

__lib = __load_library()

