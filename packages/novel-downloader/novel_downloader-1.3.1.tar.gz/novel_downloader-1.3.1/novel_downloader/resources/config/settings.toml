# 网络请求层设置
[requests]
retry_times = 3                    # 请求失败重试次数
backoff_factor = 2.0
timeout = 30.0                     # 页面加载超时时间 (秒)
max_connections = 10               # 并发连接的最大数 (async)
# max_rps =                        # 最大请求速率 (requests per second), 为空则不限制

# DrissionPage 专用设置
headless = false                   # 是否以无头模式启动浏览器
user_data_folder = ""              # 浏览器用户数据目录: 为空则使用默认目录
profile_name = ""                  # 使用的用户配置名称: 为空则使用默认配置
auto_close = true                  # 页面抓取完是否自动关闭浏览器
disable_images = false             # 是否禁用图片加载 (加速)
mute_audio = true                  # 是否静音

# 全局通用设置
[general]
request_interval = 5.0             # 同一本书各章节请求间隔 (秒)
raw_data_dir = "./raw_data"        # 原始章节 JSON/DB 存放目录
output_dir = "./downloads"         # 最终输出文件存放目录
cache_dir = "./novel_cache"        # 本地缓存目录 (字体 / 图片等)
download_workers = 4               # 并发下载线程数 (async)
parser_workers = 4                 # 并发解析线程数
use_process_pool = false           # 是否使用多进程池来处理任务
skip_existing = true               # 是否跳过已存在章节
storage_backend = "sqlite"         # 章节储存方法: json / sqlite
storage_batch_size = 30            # SQLite 批量提交的章节数量

[general.debug]
save_html = false                  # 是否将抓取到的原始 HTML 保留到磁盘
log_level = "INFO"                 # 日志级别: DEBUG, INFO, WARNING, ERROR

[general.font_ocr]
decode_font = false                # 是否尝试本地解码混淆字体
use_freq = false                   # 是否使用频率分析
ocr_version = "v2.0"               # "v1.0" / "v2.0"
use_ocr = true                     # 是否使用 OCR 辅助识别文本
use_vec = false                    # 是否使用 Vector 辅助识别文本
save_font_debug = false            # 是否保存字体解码调试数据
batch_size = 32
gpu_mem = 500                      # GPU 显存限制 (MB)
# gpu_id =                         # 使用哪个 GPU
ocr_weight = 0.5
vec_weight = 0.5

# 各站点的特定配置
[sites.qidian]
# 小说 ID 列表
# 例如: 访问 https://www.qidian.com/book/1010868264/
# 该小说的 ID 就是 1010868264
book_ids = [
  "0000000000",
  "0000000000"
]
mode = "browser"                   # browser / session
login_required = true              # 是否需要登录才能访问

[sites.biquge]
book_ids = [
  "0000000000",
  "0000000000"
]
mode = "session"                   # async / session
login_required = false             # 是否需要登录才能访问

[sites.common]
mode = "session"                   # async / session
login_required = false             # 是否需要登录才能访问

# 输出文件格式及相关选项
[output]
clean_text = true                  # 是否对章节文本做清理

[output.formats]
make_txt = true                    # 是否生成完整 TXT 文件
make_epub = false                  # 是否生成 EPUB
make_md = false                    # 是否生成 Markdown (未实现)
make_pdf = false                   # 可能支持 PDF 输出 (未实现)

[output.naming]
append_timestamp = false           # 在文件名中追加时间戳
filename_template = "{title}_{author}"  # 文件命名规则

[output.epub]
include_cover = true               # 是否在 EPUB 中包含封面
include_toc = false                # 是否自动生成目录
include_picture = false            # 是否下载章节图片 (体积较大)
